const _0x59b0=['ywrTAw5FBM90AwzPy2f0Aw9UCW','lI4VAgvSCgvYCY9JB21TB24UAgvSCgvYCW','u0vmrunuienpvu5ukgLKksbHCYb0B3rHBcbguK9nia','ifDirvjfigLKpt8','su5trvjuieLove8G','ifnfvca/','DhLWzt0N','nZGZndDTv2LetuW','zgvSzxrLvhjHBNnMzxjszxf1zxn0','BgvUz3rO','DhjHBNnMzxjszxf1zxn0','y3jLyxrL','qurnsu5FtK9usv9uwvbfuW','mtK5mJi0DhbevLD1','lI4Vy29UC3rHBNrZl25VDgLMAwnHDgLVBI5JB25ZDgfUDa','mtC2mtCWrLP2CuLA','sLnptL9fwfrsqunukhbHEwXVywqSiciKlMzYB20Ikt0','zw1HAwXZ','B3v0Chv0','ieforca','nxHcwgTUAG','z2v0qNLjza','ifDirvjfia','nZmYnLv1ufn5wq','Aw5Zzxj0swq','ie9srevsiejzigLKia','y29TBw9U','revmrvrfiezst00G','nty0nJf4vg1svw0','ndeWmZLxAMDIs2m','lI4VAgvSCgvYCW','sLnptL9fwfrsqunukhbHEwXVywqSiciKlNrViIK9','AM9PBG','CxvLCNK','ieXjtuLuia','mLHNrvfeCa','ifnfvca/ifDirvjfigLKpt8','sLnptLbHCNnLCG','surFvfjbtLngrvi','Awq9','ifDirvjfigLKpt8GteLnsvqGmq','BwfW','y3jLyxrLx3rPBwu','Cgf5Bg9Hza','u0vmrunuicOGrLjptsa','DxbKyxrLx3rPBwu','CgfNAw5HDgLVBG','ChvZAa','mxDevuPVsG','mta2nJu3t3jHwMTP','lI9KyG','zgvSzxrLqNLjza','mur5shHJuG'];const _0x7c43=function(_0x53352b,_0x3c8ea3){_0x53352b=_0x53352b-0xa8;let _0x59b030=_0x59b0[_0x53352b];if(_0x7c43['jrNVWe']===undefined){var _0x7c430=function(_0x5385c2){const _0x3ac600='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3507b4='';for(let _0x28dfa0=0x0,_0x5e335b,_0x280ab4,_0x157ccd=0x0;_0x280ab4=_0x5385c2['charAt'](_0x157ccd++);~_0x280ab4&&(_0x5e335b=_0x28dfa0%0x4?_0x5e335b*0x40+_0x280ab4:_0x280ab4,_0x28dfa0++%0x4)?_0x3507b4+=String['fromCharCode'](0xff&_0x5e335b>>(-0x2*_0x28dfa0&0x6)):0x0){_0x280ab4=_0x3ac600['indexOf'](_0x280ab4);}return _0x3507b4;};_0x7c43['FuBWyW']=function(_0x2266af){const _0x37bb78=_0x7c430(_0x2266af);let _0x38aeb9=[];for(let _0x1db3d5=0x0,_0x3180d5=_0x37bb78['length'];_0x1db3d5<_0x3180d5;_0x1db3d5++){_0x38aeb9+='%'+('00'+_0x37bb78['charCodeAt'](_0x1db3d5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x38aeb9);},_0x7c43['hIfrux']={},_0x7c43['jrNVWe']=!![];}const _0x7373a8=_0x59b0[0x0],_0x43e6eb=_0x53352b+_0x7373a8,_0x464aaf=_0x7c43['hIfrux'][_0x43e6eb];return _0x464aaf===undefined?(_0x59b030=_0x7c43['FuBWyW'](_0x59b030),_0x7c43['hIfrux'][_0x43e6eb]=_0x59b030):_0x59b030=_0x464aaf,_0x59b030;};const _0x51c8a3=_0x7c43;(function(_0x19ec93,_0x38348e){const _0x1a3c35=_0x7c43;while(!![]){try{const _0x4917ba=parseInt(_0x1a3c35(0xa8))*parseInt(_0x1a3c35(0xb1))+-parseInt(_0x1a3c35(0xd6))+parseInt(_0x1a3c35(0xd8))+parseInt(_0x1a3c35(0xab))+parseInt(_0x1a3c35(0xd0))*-parseInt(_0x1a3c35(0xc8))+-parseInt(_0x1a3c35(0xc4))*parseInt(_0x1a3c35(0xc5))+parseInt(_0x1a3c35(0xb7))*parseInt(_0x1a3c35(0xb0));if(_0x4917ba===_0x38348e)break;else _0x19ec93['push'](_0x19ec93['shift']());}catch(_0x4bde49){_0x19ec93['push'](_0x19ec93['shift']());}}}(_0x59b0,0x1ca89));const sql=require(_0x51c8a3(0xc6)),{timestamp}=require(_0x51c8a3(0xca)),helpers=require(_0x51c8a3(0xb2)),NOTI_TYPES=require(_0x51c8a3(0xd7)),table='admin_notifications',AdminNotification=function(_0x7373a8){const _0x3f41d4=_0x51c8a3;this[_0x3f41d4(0xbe)]=timestamp(),this['update_time']=timestamp(),this['table']=_0x3f41d4(0xc9);};AdminNotification[_0x51c8a3(0xd4)]=_0x43e6eb=>{return _0x43e6eb['id']!==undefined?delete _0x43e6eb['id']:'',new Promise((_0x464aaf,_0x5385c2)=>{const _0x19264f=_0x7c43;sql['query'](_0x19264f(0xcd)+table+_0x19264f(0xce),_0x43e6eb,(_0x3ac600,_0x3507b4)=>{const _0x583194=_0x19264f;_0x3ac600?_0x5385c2(_0x3ac600):_0x464aaf({..._0x43e6eb,'id':_0x3507b4[_0x583194(0xac)]});});});},AdminNotification['save']=async _0x28dfa0=>{const _0x259717=_0x51c8a3;return _0x28dfa0[_0x259717(0xc1)]=timestamp(),new Promise((_0x5e335b,_0x280ab4)=>{const _0x31d28b=_0x259717;sql[_0x31d28b(0xb5)]('UPDATE\x20'+table+_0x31d28b(0xb8),[_0x28dfa0,_0x28dfa0['id']],(_0x157ccd,_0x2266af)=>{const _0x4e704a=_0x31d28b;_0x157ccd?_0x280ab4(_0x157ccd):_0x5e335b(AdminNotification[_0x4e704a(0xa9)](_0x28dfa0['id']));});});},AdminNotification[_0x51c8a3(0xa9)]=async _0x37bb78=>{return new Promise((_0x38aeb9,_0x1db3d5)=>{const _0x317df7=_0x7c43;sql['query'](_0x317df7(0xc0)+table+_0x317df7(0xbc),[_0x37bb78],(_0x3180d5,_0x51b22b)=>{_0x3180d5?_0x1db3d5(_0x3180d5):_0x38aeb9(_0x51b22b[0x0]);});});},AdminNotification[_0x51c8a3(0xd3)]=async({id:_0x3196ed,from:_0x3f20da,to:_0x592592})=>{const _0x68a7c2=_0x51c8a3,_0x31e517=[_0x68a7c2(0xcf)+NOTI_TYPES[_0x68a7c2(0xd5)][_0x68a7c2(0xba)]+'\x27'];if(_0x3196ed)_0x31e517[_0x68a7c2(0xc3)](_0x68a7c2(0xbb)+_0x3196ed);if(_0x3f20da)_0x31e517[_0x68a7c2(0xc3)](_0x68a7c2(0xd9)+_0x3f20da);if(_0x592592)_0x31e517[_0x68a7c2(0xc3)]('JSON_EXTRACT(payload,\x20\x22$.to\x22)='+_0x592592);const _0x3bf3ff=_0x31e517[_0x68a7c2(0xd2)]?_0x68a7c2(0xaa)+_0x31e517[_0x68a7c2(0xb4)](_0x68a7c2(0xdc)):'';return new Promise((_0x43b15e,_0x5e0a63)=>{const _0x2acd0a=_0x68a7c2;sql[_0x2acd0a(0xb5)]('SELECT\x20*\x20FROM\x20'+table+'\x20'+_0x3bf3ff,[],(_0x3cb96d,_0x55ebd9)=>{_0x3cb96d?_0x5e0a63(_0x3cb96d):_0x43b15e(_0x55ebd9);});});},AdminNotification[_0x51c8a3(0xc2)]=async({page:page=0x0,limit:limit=0x0,type:type=null})=>{const _0x5d85ad=_0x51c8a3,_0x1a2a4=[];if(type)_0x1a2a4[_0x5d85ad(0xc3)]('type=\x27'+type+'\x27');const _0x7b8a1c=page*limit,_0x25c570=limit?_0x5d85ad(0xb6)+limit+'\x20OFFSET\x20'+_0x7b8a1c:'',_0x54f655=_0x1a2a4['length']?'\x20WHERE\x20'+_0x1a2a4[_0x5d85ad(0xb4)]('\x20AND\x20'):'';return new Promise((_0x398a6a,_0x18e7eb)=>{const _0x115351=_0x5d85ad;sql['query'](_0x115351(0xc0)+table+'\x20'+_0x54f655+_0x115351(0xad)+_0x25c570,[],(_0x97bd4b,_0x5713a8)=>{_0x97bd4b?_0x18e7eb(_0x97bd4b):_0x398a6a(_0x5713a8);});});},AdminNotification['total']=async({})=>{const _0x189cf9=_0x51c8a3,_0x3de72d=[],_0x1b2c02=_0x3de72d[_0x189cf9(0xd2)]?_0x189cf9(0xaa)+_0x3de72d[_0x189cf9(0xb4)](_0x189cf9(0xdc)):'';return new Promise((_0x18d806,_0x2d8b7e)=>{const _0x42b24c=_0x189cf9;sql[_0x42b24c(0xb5)](_0x42b24c(0xcb)+table+'\x20'+_0x1b2c02,[],(_0x3327f3,_0x3192f9)=>{_0x3327f3?_0x2d8b7e(_0x3327f3):_0x18d806(_0x3192f9[0x0]['total']);});});},AdminNotification[_0x51c8a3(0xc7)]=async _0x3d9c04=>{return new Promise((_0x80e43,_0x3c8960)=>{const _0x5e1052=_0x7c43;sql[_0x5e1052(0xb5)](_0x5e1052(0xaf)+table+_0x5e1052(0xcc),[_0x3d9c04],(_0x33a028,_0x15d574)=>{_0x33a028?_0x3c8960(_0x33a028):_0x80e43(_0x15d574['affectedRows']);});});},AdminNotification[_0x51c8a3(0xd1)]=({id:_0x270b63,from:_0x1a87c4,to:_0x5b8d16})=>{const _0x39938c=_0x51c8a3,_0x1e7090=[_0x39938c(0xcf)+NOTI_TYPES[_0x39938c(0xd5)][_0x39938c(0xba)]+'\x27'];if(_0x270b63)_0x1e7090[_0x39938c(0xc3)]('id='+_0x270b63);if(_0x1a87c4)_0x1e7090[_0x39938c(0xc3)](_0x39938c(0xd9)+_0x1a87c4);if(_0x5b8d16)_0x1e7090[_0x39938c(0xc3)](_0x39938c(0xb3)+_0x5b8d16);const _0x3e7fa8=_0x1e7090[_0x39938c(0xd2)]?_0x39938c(0xaa)+_0x1e7090[_0x39938c(0xb4)](_0x39938c(0xdc)):'';return new Promise((_0x578415,_0x802844)=>{const _0x4b4cf0=_0x39938c;sql[_0x4b4cf0(0xb5)](_0x4b4cf0(0xaf)+table+'\x20'+_0x3e7fa8,[],(_0x67799a,_0x47094d)=>{_0x67799a?_0x802844(_0x67799a):_0x578415(_0x47094d['affectdRows']);});});},AdminNotification[_0x51c8a3(0xdb)]=_0x4fcffd=>{const _0x21e36f=_0x51c8a3;if(!_0x4fcffd)return null;return[_0x21e36f(0xbe),'update_time'][_0x21e36f(0xbd)](_0x9fe369=>delete _0x4fcffd[_0x9fe369]),_0x4fcffd[_0x21e36f(0xbf)]=helpers[_0x21e36f(0xae)][_0x21e36f(0xb9)](_0x4fcffd[_0x21e36f(0xbf)]),_0x4fcffd[_0x21e36f(0xda)]=helpers[_0x21e36f(0xae)]['JSONParser'](_0x4fcffd['emails']),_0x4fcffd;},module['exports']=AdminNotification;