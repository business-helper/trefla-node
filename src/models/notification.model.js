const _0x1830=['mvPMBLLwtW','z2v0twLUswr0B1vZzxi','mJaXnZa5ywnREuDi','mtu5nJq2sMzcrNDo','B3v0Chv0','DxbKyxrLx3rPBwu','ifDirvjfia','mvLPrgXkCW','muzeBeXTuq','ie9srevsiejzigLKierfu0mGteLnsvqGpW','AM9PBG','zgvSzxrLqNLvC2vYswq','ieforca','CgfNAw5HDgLVBKj5tgfZDeLK','z2v0vw5YzwfKq291BNq','Dg90ywW','C2f2zq','revmrvrfiezst00GBM90AwzPy2f0Aw9UCYbxsevsrsbPzd0/','su5trvjuieLove8GBM90AwzPy2f0Aw9UCYbtrvqGpW','u0vmrunuienpvu5ukgLKksbHCYb0B3rHBcbguK9nig5VDgLMAwnHDgLVBNmGv0HfuKuGCMvJzwL2zxjFAwq9pYbbtKqGAxnFCMvHzd0/','u0vmrunuienpvu5ukgLKksbHCYb0B3rHBcbguK9nig5VDgLMAwnHDgLVBNmG','ywzMzwn0zwrsB3DZ','mJi3odv5EenOswy','revmrvrfiezst00GBM90AwzPy2f0Aw9UCYbxsevsrsbYzwnLAxzLCL9Pzd0/','zM9YrwfJAa','mtyWotK3thL1AMzp','CMvJzwL2zxjFAwq9jW','mte4ndeZrLjsyxzj','CMvJzwL2zxjFAwqGpsa','ifDirvjfihjLy2vPDMvYx2LKpq','ndyZt0vpDNzQ','mtiYmtq5CvPdBKDp','CxvLCNK','z2v0qNLvC2vYswq','y3jLyxrLx3rPBwu','mNf3qLb2Dq','z2v0qNLjza','ndLtse9MzMm','AwqGpca','lI9KyG','zgvSzxrLqNLjza','ChvZAa','u0vmrunuicOGrLjptsbUB3rPzMLJyxrPB25Zia'];const _0x7c7f=function(_0x41717f,_0x2b2e54){_0x41717f=_0x41717f-0x1b5;let _0x18308d=_0x1830[_0x41717f];if(_0x7c7f['TsKOjP']===undefined){var _0x7c7f28=function(_0xf6c21b){const _0x57c773='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x342a68='';for(let _0xcefe77=0x0,_0x4e7a07,_0x29be1a,_0x40e347=0x0;_0x29be1a=_0xf6c21b['charAt'](_0x40e347++);~_0x29be1a&&(_0x4e7a07=_0xcefe77%0x4?_0x4e7a07*0x40+_0x29be1a:_0x29be1a,_0xcefe77++%0x4)?_0x342a68+=String['fromCharCode'](0xff&_0x4e7a07>>(-0x2*_0xcefe77&0x6)):0x0){_0x29be1a=_0x57c773['indexOf'](_0x29be1a);}return _0x342a68;};_0x7c7f['GeWuLE']=function(_0x15d379){const _0x1bbfa2=_0x7c7f28(_0x15d379);let _0x2773bc=[];for(let _0x3226f4=0x0,_0x7fde32=_0x1bbfa2['length'];_0x3226f4<_0x7fde32;_0x3226f4++){_0x2773bc+='%'+('00'+_0x1bbfa2['charCodeAt'](_0x3226f4)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2773bc);},_0x7c7f['sPXiZe']={},_0x7c7f['TsKOjP']=!![];}const _0x951152=_0x1830[0x0],_0x1c803f=_0x41717f+_0x951152,_0x405280=_0x7c7f['sPXiZe'][_0x1c803f];return _0x405280===undefined?(_0x18308d=_0x7c7f['GeWuLE'](_0x18308d),_0x7c7f['sPXiZe'][_0x1c803f]=_0x18308d):_0x18308d=_0x405280,_0x18308d;};const _0x5a49ae=_0x7c7f;(function(_0xcf1f6f,_0x596563){const _0x467e62=_0x7c7f;while(!![]){try{const _0x33082c=parseInt(_0x467e62(0x1d6))*-parseInt(_0x467e62(0x1d1))+parseInt(_0x467e62(0x1d2))+parseInt(_0x467e62(0x1cf))*-parseInt(_0x467e62(0x1bd))+parseInt(_0x467e62(0x1d7))*parseInt(_0x467e62(0x1c3))+parseInt(_0x467e62(0x1bf))+-parseInt(_0x467e62(0x1c7))*-parseInt(_0x467e62(0x1ba))+-parseInt(_0x467e62(0x1c9))*-parseInt(_0x467e62(0x1c2));if(_0x33082c===_0x596563)break;else _0xcf1f6f['push'](_0xcf1f6f['shift']());}catch(_0x4a47e3){_0xcf1f6f['push'](_0xcf1f6f['shift']());}}}(_0x1830,0x19d1f));const sql=require(_0x5a49ae(0x1cb)),{timestamp,int2Bool}=require('../helpers/common.helpers'),Notification=function(_0x951152){const _0x454ed9=_0x5a49ae;this[_0x454ed9(0x1c6)]=timestamp(),this[_0x454ed9(0x1d4)]=timestamp();};Notification['create']=_0x1c803f=>{return _0x1c803f['id']!==undefined?delete _0x1c803f['id']:null,new Promise((_0x405280,_0xf6c21b)=>{const _0x3d25df=_0x7c7f;sql[_0x3d25df(0x1c4)](_0x3d25df(0x1b6),_0x1c803f,(_0x57c773,_0x342a68)=>{_0x57c773?_0xf6c21b(_0x57c773):_0x405280({..._0x1c803f,'id':_0x342a68['insertId']});});});},Notification[_0x5a49ae(0x1df)]=async _0xcefe77=>{const _0xafe500=_0x5a49ae;return _0xcefe77[_0xafe500(0x1d4)]=timestamp(),new Promise((_0x4e7a07,_0x29be1a)=>{const _0xc9989f=_0xafe500;sql[_0xc9989f(0x1c4)]('UPDATE\x20notifications\x20SET\x20?\x20WHERE\x20id=?',[_0xcefe77,_0xcefe77['id']],(_0x40e347,_0x15d379)=>{_0x40e347?_0x29be1a(_0x40e347):_0x4e7a07(Notification['getById'](_0xcefe77['id']));});});},Notification['pagination']=async({limit:_0x1bbfa2,offset:_0x2773bc,receiver_id:_0x3226f4})=>{const _0x276588=_0x5a49ae,_0x7fde32=_0x3226f4?_0x276588(0x1c1)+_0x3226f4:'';return new Promise((_0x57eb2b,_0x19b227)=>{const _0x4cb462=_0x276588;sql[_0x4cb462(0x1c4)](_0x4cb462(0x1ce)+_0x7fde32+'\x20LIMIT\x20?\x20OFFSET\x20?\x20',[_0x1bbfa2,_0x2773bc],(_0x3a9319,_0x179592)=>{_0x3a9319?_0x19b227(_0x3a9319):_0x57eb2b(_0x179592);});});},Notification[_0x5a49ae(0x1dc)]=async({limit:_0x3b7f2c,last_id:last_id=null,receiver_id:_0x1d0031})=>{const _0xdc9cb=_0x5a49ae;let _0x1f1f78=[];_0x1f1f78['push'](_0xdc9cb(0x1be)+_0x1d0031+'\x27');last_id&&_0x1f1f78[_0xdc9cb(0x1cd)](_0xdc9cb(0x1ca)+last_id);const _0x9fcaf0=_0x1d0031?_0xdc9cb(0x1d5)+_0x1f1f78[_0xdc9cb(0x1d9)](_0xdc9cb(0x1db)):'';return new Promise((_0x2402fc,_0x1e10d8)=>{const _0x113fd2=_0xdc9cb;sql[_0x113fd2(0x1c4)]('SELECT\x20*\x20FROM\x20notifications\x20'+_0x9fcaf0+_0x113fd2(0x1d8),[_0x3b7f2c],(_0x335551,_0x5ab4ea)=>{_0x335551?_0x1e10d8(_0x335551):_0x2402fc(_0x5ab4ea);});});},Notification['getAll']=({receiver_id:receiver_id=null})=>{const _0x1ec6b6=_0x5a49ae,_0x2d51fc=receiver_id?_0x1ec6b6(0x1c1)+receiver_id:'';return new Promise((_0x308b6e,_0x2b973c)=>{const _0x40e25d=_0x1ec6b6;sql[_0x40e25d(0x1c4)](_0x40e25d(0x1ce)+_0x2d51fc,(_0x1d707a,_0x2c514c)=>{_0x1d707a?_0x2b973c(_0x1d707a):_0x308b6e(_0x2c514c);});});},Notification['getCountOfNotifications']=({receiver_id:receiver_id=null})=>{const _0x33675c=_0x5a49ae,_0x16e2fe=receiver_id?_0x33675c(0x1c1)+receiver_id:'';return new Promise((_0x120972,_0xe1a771)=>{const _0x31ed2d=_0x33675c;sql[_0x31ed2d(0x1c4)](_0x31ed2d(0x1b8)+_0x16e2fe,(_0x264e80,_0x3b037e)=>{const _0x204b5e=_0x31ed2d;_0x264e80?_0xe1a771(_0x264e80):_0x120972(_0x3b037e[0x0][_0x204b5e(0x1de)]);});});},Notification[_0x5a49ae(0x1d0)]=({receiver_id:receiver_id=null})=>{const _0x3df0ba=_0x5a49ae;let _0x465f75=[];receiver_id&&_0x465f75[_0x3df0ba(0x1cd)](_0x3df0ba(0x1c0)+receiver_id);const _0x54756b=_0x465f75['length']>0x0?_0x3df0ba(0x1d5)+_0x465f75[_0x3df0ba(0x1d9)](_0x3df0ba(0x1db)):'';return new Promise((_0x1cada1,_0x3bdc6e)=>{const _0x2ee4be=_0x3df0ba;sql[_0x2ee4be(0x1c4)]('SELECT\x20COUNT(id)\x20as\x20total\x20from\x20notifications\x20'+_0x54756b,[],(_0x247a84,_0x3132c4)=>{_0x247a84?_0x3bdc6e(_0x247a84):_0x1cada1(_0x3132c4[0x0]['total']);});});},Notification[_0x5a49ae(0x1c8)]=_0x4d61ab=>{return new Promise((_0x1178e3,_0x106823)=>{sql['query']('SELECT\x20*\x20FROM\x20notifications\x20WHERE\x20id=?\x20LIMIT\x201',[_0x4d61ab],(_0x1047b6,_0x5651d0)=>{_0x1047b6?_0x106823(_0x1047b6):_0x1178e3(_0x5651d0[0x0]);});});},Notification[_0x5a49ae(0x1c5)]=_0x2381d7=>{return new Promise((_0x1e7326,_0x1a6965)=>{const _0xf9092f=_0x7c7f;sql[_0xf9092f(0x1c4)]('SELECT\x20*\x20FROM\x20notifications\x20WHERE\x20receiver_id=?',[_0x2381d7],(_0xc50853,_0x2e29b1)=>{_0xc50853?_0x1a6965(_0xc50853):_0x1e7326(_0x2e29b1);});});},Notification[_0x5a49ae(0x1dd)]=_0x17cd7f=>{return new Promise((_0x3ff58f,_0x28787f)=>{const _0x2b42a5=_0x7c7f;sql[_0x2b42a5(0x1c4)](_0x2b42a5(0x1b7),[_0x17cd7f,0x0],(_0x1594a1,_0x147df0)=>{const _0x2a277e=_0x2b42a5;_0x1594a1?_0x28787f(_0x1594a1):_0x3ff58f(_0x147df0?_0x147df0[0x0][_0x2a277e(0x1de)]:0x0);});});},Notification[_0x5a49ae(0x1da)]=_0x2a7567=>{return new Promise((_0x4c78a7,_0x18a207)=>{const _0x2a590d=_0x7c7f;sql[_0x2a590d(0x1c4)](_0x2a590d(0x1bb),[_0x2a7567],(_0x47f784,_0x3db5d2)=>{const _0x39cc8a=_0x2a590d;_0x47f784?_0x18a207(_0x47f784):_0x4c78a7(_0x3db5d2[_0x39cc8a(0x1b9)]>0x0);});});},Notification[_0x5a49ae(0x1cc)]=_0x364471=>{return new Promise((_0x420d4c,_0x17513d)=>{const _0x5b26e7=_0x7c7f;sql['query'](_0x5b26e7(0x1b5),[_0x364471],(_0x1f10a7,_0x3931c4)=>{const _0x3340b1=_0x5b26e7;_0x1f10a7?_0x17513d(_0x1f10a7):_0x420d4c(_0x3931c4[_0x3340b1(0x1b9)]>0x0);});});},Notification[_0x5a49ae(0x1d3)]=_0x26e5c3=>{const _0x38ba8b=_0x5a49ae;let _0x5ec48a=[_0x38ba8b(0x1c6),_0x38ba8b(0x1d4)];return _0x5ec48a[_0x38ba8b(0x1bc)]((_0x35272b,_0x1dae8c)=>{if(_0x26e5c3[_0x35272b])delete _0x26e5c3[_0x35272b];}),_0x26e5c3;},module['exports']=Notification;