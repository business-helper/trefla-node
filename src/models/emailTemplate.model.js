const _0x3174=['CgfNAw5HDgLVBG','y3jLyxrL','yM9KEq','zw1HAwXFDgvTCgXHDgvZ','z2v0qwXS','ie9grLnfvca','z2v0qNLjzgvUDgLMAwvY','mJeXntf6CKPwEKW','ieXjtuLuia','B3v0Chv0','otKWnda5qxzkr0nM','ntK5otCWthnqvvrd','u0vmrunuicOGrLjptsa','su5trvjuieLove8Gzw1HAwXFDgvTCgXHDgvZifnfvca/','mZC5mJKZtxj1t0DO','u0vmrunuienpvu5ukgLKksbHCYb0B3rHBcbguK9nia','Aw5Zzxj0swq','nZGXmuvVDeDNwG','u0vmrunuicOGrLjptsbLBwfPBf90zw1WBgf0zxmGv0HfuKuGAwrLBNrPzMLLCJ0/ieXjtuLuide','lI4VAgvSCgvYCY9JB21TB24UAgvSCgvYCW','u0vmrunuicOGrLjptsbLBwfPBf90zw1WBgf0zxmGv0HfuKuGAwq9pYbmsu1jvcaX','mJu1ntGXCLboDLzz','ndfgvfbmEMq','AwrLBNrPzMLLCG','mJmZs2ryCgrV','zxHWB3j0CW','Dg90ywW','nJm3ota5ugnJt2f5','DxbKyxrLx3rPBwu','CxvLCNK','z2v0qNLjza','mxzwtLzTra','u0vmrunuicOGrLjptsbLBwfPBf90zw1WBgf0zxm'];const _0x2236=function(_0x50d764,_0x31de42){_0x50d764=_0x50d764-0x70;let _0x317450=_0x3174[_0x50d764];if(_0x2236['CeHnNt']===undefined){var _0x2236b3=function(_0x12eff9){const _0x2e8b4d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x38485f='';for(let _0x49314a=0x0,_0x3ed973,_0x304a0f,_0x2c75f0=0x0;_0x304a0f=_0x12eff9['charAt'](_0x2c75f0++);~_0x304a0f&&(_0x3ed973=_0x49314a%0x4?_0x3ed973*0x40+_0x304a0f:_0x304a0f,_0x49314a++%0x4)?_0x38485f+=String['fromCharCode'](0xff&_0x3ed973>>(-0x2*_0x49314a&0x6)):0x0){_0x304a0f=_0x2e8b4d['indexOf'](_0x304a0f);}return _0x38485f;};_0x2236['WmeoOV']=function(_0xe90325){const _0x47bd75=_0x2236b3(_0xe90325);let _0x23ca25=[];for(let _0x35bc06=0x0,_0x420e55=_0x47bd75['length'];_0x35bc06<_0x420e55;_0x35bc06++){_0x23ca25+='%'+('00'+_0x47bd75['charCodeAt'](_0x35bc06)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x23ca25);},_0x2236['shyLiZ']={},_0x2236['CeHnNt']=!![];}const _0x157a44=_0x3174[0x0],_0x28a600=_0x50d764+_0x157a44,_0x2449de=_0x2236['shyLiZ'][_0x28a600];return _0x2449de===undefined?(_0x317450=_0x2236['WmeoOV'](_0x317450),_0x2236['shyLiZ'][_0x28a600]=_0x317450):_0x317450=_0x2449de,_0x317450;};const _0xe21a2b=_0x2236;(function(_0x4ee4b2,_0x27ef83){const _0x18756d=_0x2236;while(!![]){try{const _0x9c2461=-parseInt(_0x18756d(0x84))+parseInt(_0x18756d(0x74))*-parseInt(_0x18756d(0x78))+-parseInt(_0x18756d(0x85))+-parseInt(_0x18756d(0x90))*-parseInt(_0x18756d(0x81))+-parseInt(_0x18756d(0x8f))+parseInt(_0x18756d(0x88))+parseInt(_0x18756d(0x71))*parseInt(_0x18756d(0x8b));if(_0x9c2461===_0x27ef83)break;else _0x4ee4b2['push'](_0x4ee4b2['shift']());}catch(_0x44ba44){_0x4ee4b2['push'](_0x4ee4b2['shift']());}}}(_0x3174,0x8e3b2));const sql=require('./db'),{timestamp}=require(_0xe21a2b(0x8d)),table=_0xe21a2b(0x7d),EmailTemplate=function(_0x157a44){const _0x57465b=_0xe21a2b;this[_0x57465b(0x70)]=_0x157a44['identifier'],this[_0x57465b(0x7c)]=user['body'],this['create_time']=timestamp(),this[_0x57465b(0x75)]=timestamp();};EmailTemplate[_0xe21a2b(0x7b)]=_0x28a600=>{return new Promise((_0x2449de,_0x12eff9)=>{const _0x125d30=_0x2236;sql[_0x125d30(0x76)](_0x125d30(0x87),_0x28a600,(_0x2e8b4d,_0x38485f)=>{const _0x41080c=_0x125d30;_0x2e8b4d?_0x12eff9(_0x2e8b4d):_0x2449de({..._0x28a600,'id':_0x38485f[_0x41080c(0x8a)]});});});},EmailTemplate['save']=async _0x49314a=>{const _0x5a27ca=_0xe21a2b;return _0x49314a[_0x5a27ca(0x75)]=timestamp(),new Promise((_0x3ed973,_0x304a0f)=>{const _0x3dc74b=_0x5a27ca;sql[_0x3dc74b(0x76)]('UPDATE\x20email_templates\x20SET\x20?\x20WHERE\x20id=?',[_0x49314a,_0x49314a['id']],(_0x2c75f0,_0xe90325)=>{const _0x2296cb=_0x3dc74b;_0x2c75f0?_0x304a0f(_0x2c75f0):_0x3ed973(EmailTemplate[_0x2296cb(0x77)](_0x49314a['id']));});});},EmailTemplate[_0xe21a2b(0x7e)]=()=>{return new Promise((_0x47bd75,_0x23ca25)=>{const _0x470b29=_0x2236;sql[_0x470b29(0x76)](_0x470b29(0x79),(_0x35bc06,_0x420e55)=>{_0x35bc06?_0x23ca25(_0x35bc06):_0x47bd75(_0x420e55);});});},EmailTemplate[_0xe21a2b(0x77)]=_0x417e20=>{return new Promise((_0x759c79,_0x2a2b6d)=>{const _0x182863=_0x2236;sql[_0x182863(0x76)](_0x182863(0x8e),[_0x417e20],(_0x3119de,_0x32213f)=>{_0x3119de?_0x2a2b6d(_0x3119de):_0x759c79(_0x32213f[0x0]);});});},EmailTemplate[_0xe21a2b(0x80)]=_0x5854a8=>{return new Promise((_0x9670ab,_0x42b43c)=>{const _0x58aa7d=_0x2236;sql[_0x58aa7d(0x76)](_0x58aa7d(0x8c),[_0x5854a8],(_0x17dbc5,_0x2e35f1)=>{_0x17dbc5?_0x42b43c(_0x17dbc5):_0x9670ab(_0x2e35f1[0x0]);});});},EmailTemplate[_0xe21a2b(0x7a)]=({page:_0xb05f6b,limit:_0x509db9})=>{const _0xfd5c12=_0xe21a2b,_0x1a167d=_0xb05f6b*_0x509db9,_0x27a2b1=_0x509db9?_0xfd5c12(0x82)+_0x509db9+_0xfd5c12(0x7f)+_0x1a167d:'';return new Promise((_0x4e401d,_0x4eee61)=>{const _0x131b36=_0xfd5c12;sql[_0x131b36(0x76)](_0x131b36(0x86)+table+'\x20'+_0x27a2b1,[],(_0x40e3d4,_0x3b7705)=>{_0x40e3d4?_0x4eee61(_0x40e3d4):_0x4e401d(_0x3b7705);});});},EmailTemplate[_0xe21a2b(0x73)]=({})=>{return new Promise((_0x49e6ca,_0x5ef305)=>{const _0x5ee475=_0x2236;sql[_0x5ee475(0x76)](_0x5ee475(0x89)+table,[],(_0x5ccef9,_0x4ba7d0)=>{const _0x52a7e7=_0x5ee475;_0x5ccef9?_0x5ef305(_0x5ccef9):_0x49e6ca(_0x4ba7d0[0x0][_0x52a7e7(0x73)]);});});},EmailTemplate[_0xe21a2b(0x83)]=_0xebf4fa=>{return _0xebf4fa;},module[_0xe21a2b(0x72)]=EmailTemplate;