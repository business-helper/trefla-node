const _0x133a=['odntsMvUwu0','y29TBw9U','Aw5WDxrZ','z2v0qNLvC2vYswq','zxjYB3jZ','zw1HAwW','B3v0Chv0','lI4VBw9KzwXZl2LUzgv4','lI4VAgvSCgvYCY9JB21TB24UAgvSCgvYCW','DgHLBG','lI4VBwLKzgXLD2fYzxmVyMfZAwmUBwLKzgXLD2fYzq','DxnLCG','lI4Vy29UDhjVBgXLCNmVAw5KzxG','l2vTywLSlZPPza','Cg9ZDa','BgvUz3rO','nZGWquXjD0Du','qNvNihjLCg9YDcbKB2vZig5VDcbLEgLZDcbMB3iGDgHLigDPDMvUigLKiq','yNvNlNnOB3C','Bg9Hzej1z0j5vxnLCG','ywrTAw5qzxjTAxnZAw9U','nda1nuLhEwPJuW','ywrKug9ZDfj1Bgu','zxjYB3i','mLHyr01iDa','y3jLyxrL','C2vUze1HAwW','z2v0','sw52ywXPzcbYzxf1zxn0','nJG5nZeZvNjtBxfz','DxbKyxrL','zgvSzxrLqNLjza','DxnLCL9Pza','mZeYotGXueTSDxvy','z2v0qNLjza','CMvXDwLYzwq','nda3EfHZrMf2','lI4VBw9KzwXZl2j1zY5TB2rLBa','lI4Vy29UDhjVBgXLCNmVyNvNlMnVBNrYB2XSzxi','BM9Kzs1PBNb1Dc12ywXPzgf0B3i','ywXS','y2HLy2TbBgXVD2vK','lZPPza','sw52ywXPzcbYzxf1zxn0iq','CgfYyw1Z','y3vZDg9T','nZqXn0XgseDMuq','qurnsu4','ANnVBG','lI4Vy29UC3rHBNrZl2nVBw1VBI5JB25ZDgfUDa','y2HLy2Tbzg1PBLbLCM1PC3nPB24','ww91igHHDMuGBM8GCgvYBwLZC2LVBIb0BYbKzwXLDguGDgHPCYbYzxbVCNqH','yM9KEq','y2f0y2G','nZy3CfrXzKHH','qNvNihjLCg9YDcb3AxrOihrOzsbNAxzLBIbPzcbKB2vZig5VDcbLEgLZDce','ww91igHHDMuGBM8GCgvYBwLZC2LVBIb0BYb1CgrHDguGDgHPCYbYzxbVCNqH','mtq5mJa0y3LgvM9P','Bg9Hzej1z3m','lI4VAgvSCgvYCY9PBMrLEa','lI4VAgvSCgvYCY9HDxrOlMHLBhbLCNm','rw1HAwWGAgfZigjLzw4GC2vUDcb0BYa','yxnZAwDU','y2HLy2S','mtu5nJqZyMPeq2Dl'];const _0x2011=function(_0x295658,_0x23ab09){_0x295658=_0x295658-0x12e;let _0x133ad5=_0x133a[_0x295658];if(_0x2011['UHSDId']===undefined){var _0x20116f=function(_0x505b3f){const _0x122a39='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5ea28b='';for(let _0x1d7177=0x0,_0x3b7ebd,_0x5935a4,_0x1e1c22=0x0;_0x5935a4=_0x505b3f['charAt'](_0x1e1c22++);~_0x5935a4&&(_0x3b7ebd=_0x1d7177%0x4?_0x3b7ebd*0x40+_0x5935a4:_0x5935a4,_0x1d7177++%0x4)?_0x5ea28b+=String['fromCharCode'](0xff&_0x3b7ebd>>(-0x2*_0x1d7177&0x6)):0x0){_0x5935a4=_0x122a39['indexOf'](_0x5935a4);}return _0x5ea28b;};_0x2011['zqNriQ']=function(_0x8d527d){const _0x5abb3d=_0x20116f(_0x8d527d);let _0x54bc06=[];for(let _0x47d84f=0x0,_0xf37952=_0x5abb3d['length'];_0x47d84f<_0xf37952;_0x47d84f++){_0x54bc06+='%'+('00'+_0x5abb3d['charCodeAt'](_0x47d84f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x54bc06);},_0x2011['UhWWiW']={},_0x2011['UHSDId']=!![];}const _0x364bde=_0x133a[0x0],_0x55779d=_0x295658+_0x364bde,_0x406877=_0x2011['UhWWiW'][_0x55779d];return _0x406877===undefined?(_0x133ad5=_0x2011['zqNriQ'](_0x133ad5),_0x2011['UhWWiW'][_0x55779d]=_0x133ad5):_0x133ad5=_0x406877,_0x133ad5;};const _0x221577=_0x2011;(function(_0xd39b36,_0xfa8e39){const _0x45ef44=_0x2011;while(!![]){try{const _0x4634ab=-parseInt(_0x45ef44(0x164))+-parseInt(_0x45ef44(0x145))+-parseInt(_0x45ef44(0x165))*parseInt(_0x45ef44(0x152))+-parseInt(_0x45ef44(0x13c))*parseInt(_0x45ef44(0x15d))+-parseInt(_0x45ef44(0x15a))*parseInt(_0x45ef44(0x134))+parseInt(_0x45ef44(0x141))+parseInt(_0x45ef44(0x139))*parseInt(_0x45ef44(0x148));if(_0x4634ab===_0xfa8e39)break;else _0xd39b36['push'](_0xd39b36['shift']());}catch(_0x2a3214){_0xd39b36['push'](_0xd39b36['shift']());}}}(_0x133a,0x56b7b));const express=require('express'),{Validator}=require(_0x221577(0x14b)),bugRouters=express['Router'](),bugCtrl=require(_0x221577(0x14a)),Bug=require(_0x221577(0x149)),User=require('../models/user.model'),ctrls=require(_0x221577(0x130)),models=require(_0x221577(0x16c)),helpers=require(_0x221577(0x15f)),{BearerMiddleware}=require(_0x221577(0x12e)),{getTokenInfo}=require(_0x221577(0x160)),{respondValidateError}=require(_0x221577(0x16d)),{ADMIN_ROLE}=require(_0x221577(0x155)),activity={'checkAdminPermission':async(_0x364bde,_0x55779d)=>{const _0x4c85f5=_0x221577,{role:_0x406877,role2:_0x505b3f,uid:_0x122a39}=getTokenInfo(_0x364bde);if(_0x406877!=='ADMIN')return![];if(_0x505b3f===ADMIN_ROLE['SUPER'])return!![];const _0x5ea28b=models[_0x4c85f5(0x138)][_0x4c85f5(0x16b)](await models[_0x4c85f5(0x138)][_0x4c85f5(0x168)](_0x122a39));return activity[_0x4c85f5(0x14d)](_0x5ea28b,_0x55779d);},'checkAllowed':(_0x1d7177,_0x3b7ebd=null)=>{const _0x5143f6=_0x221577;if(typeof _0x3b7ebd==='boolean')return _0x3b7ebd;else{if(_0x3b7ebd===null||_0x3b7ebd===''||_0x3b7ebd===undefined)return!![];}const _0x5935a4=_0x3b7ebd['split']('.');if(_0x5935a4[_0x5143f6(0x133)]===0x1)return _0x1d7177[_0x5935a4[0x0]];else{if(_0x5935a4['length']===0x2)return _0x1d7177[_0x5935a4[0x0]][_0x5935a4[0x1]];else{if(_0x5935a4[_0x5143f6(0x133)]===0x3)return _0x1d7177[_0x5935a4[0x0]][_0x5935a4[0x1]][_0x5935a4[0x2]];else{if(_0x5935a4[_0x5143f6(0x133)]===0x4)return _0x1d7177[_0x5935a4[0x0]][_0x5935a4[0x1]][_0x5935a4[0x2]][_0x5935a4[0x3]];}}}return![];}};bugRouters['use']((_0x1e1c22,_0x8d527d,_0x5abb3d)=>{BearerMiddleware(_0x1e1c22,_0x8d527d,_0x5abb3d);}),bugRouters[_0x221577(0x13f)](_0x221577(0x14e),async(_0x54bc06,_0x47d84f)=>{const _0x6f70df=_0x221577,_0xf37952=new Validator({'id':_0x54bc06[_0x6f70df(0x150)]['id']},{'id':'required|integer'});return _0xf37952[_0x6f70df(0x13a)](async _0x54fc04=>Promise['all']([Bug[_0x6f70df(0x146)](_0x54fc04[_0x6f70df(0x167)]['id'])])[_0x6f70df(0x16e)](([_0x535f90])=>{const _0x11dcd2=_0x6f70df;!_0x535f90&&_0x54fc04[_0x11dcd2(0x13b)]('id','custom',_0x11dcd2(0x135));})),_0xf37952[_0x6f70df(0x163)]()[_0x6f70df(0x16e)](_0x5d8d44=>{const _0x2b15ba=_0x6f70df;if(!_0x5d8d44)throw Object['assign'](new Error(_0x2b15ba(0x140)),{'code':0x190,'details':_0xf37952[_0x2b15ba(0x169)]});})['then'](()=>bugCtrl[_0x6f70df(0x146)](_0x54bc06,_0x47d84f))[_0x6f70df(0x16e)](_0x28b3eb=>_0x47d84f[_0x6f70df(0x154)](_0x28b3eb))[_0x6f70df(0x159)](_0x1301fd=>respondValidateError(_0x47d84f,_0x1301fd));}),bugRouters[_0x221577(0x13f)]('/',async(_0x30e998,_0x1401df)=>{const _0x1d886f=_0x221577,{role:_0x1a2ec8}=getTokenInfo(_0x30e998);if(_0x1a2ec8===_0x1d886f(0x153)){const _0xde0dee=await activity[_0x1d886f(0x156)](_0x30e998,_0x1d886f(0x136));if(!_0xde0dee)return _0x1401df['status'](0x193)['json']({'status':![],'message':'Permission\x20denied!'});}const _0x56ce4b=new Validator({..._0x30e998['query']},{'limit':_0x1d886f(0x147),'page':'required'});return(_0x1a2ec8==='ADMIN'?bugCtrl[_0x1d886f(0x15e)](_0x30e998,_0x1401df):bugCtrl[_0x1d886f(0x137)](_0x30e998,_0x1401df))[_0x1d886f(0x16e)](_0x2ab5d6=>_0x1401df['json'](_0x2ab5d6))[_0x1d886f(0x159)](_0x4ad4a2=>respondValidateError(_0x1401df,_0x4ad4a2));}),bugRouters['post'](_0x221577(0x131),async(_0x3fb39a,_0x5f23d8)=>{const _0x252a50=_0x221577,{uid:_0x3ed007,email:_0x5666f6,role:_0x38edaa}=getTokenInfo(_0x3fb39a);if(_0x38edaa!==_0x252a50(0x153))return _0x5f23d8[_0x252a50(0x154)]({'status':![],'message':'Permission\x20error!'});const _0x1d5ae4=new Validator({'id':_0x3fb39a[_0x252a50(0x150)]['id'],..._0x3fb39a[_0x252a50(0x158)]},{'id':_0x252a50(0x147),'subject':_0x252a50(0x147),'body':_0x252a50(0x147)});_0x1d5ae4[_0x252a50(0x13a)](async _0x4d16aa=>Promise[_0x252a50(0x14c)]([Bug[_0x252a50(0x146)](_0x4d16aa['inputs']['id'])])['then'](([_0xd97e9e])=>{const _0x336dfe=_0x252a50;!_0xd97e9e&&_0x4d16aa[_0x336dfe(0x13b)]('id',_0x336dfe(0x151),_0x336dfe(0x15b));}));let _0xfbe272;return _0x1d5ae4[_0x252a50(0x163)]()['then'](_0xf12f06=>{const _0x4abccd=_0x252a50;if(!_0xf12f06)throw Object[_0x4abccd(0x162)](new Error(_0x4abccd(0x14f)),{'code':0x190,'details':_0x1d5ae4[_0x4abccd(0x169)]});return Bug[_0x4abccd(0x146)](_0x3fb39a['params']['id']);})['then'](async _0x505a93=>{const _0x1a1508=_0x252a50;_0xfbe272=await models['user'][_0x1a1508(0x146)](_0x505a93[_0x1a1508(0x144)]);const {subject:_0xf982c7,body:_0x2a1309}=_0x3fb39a[_0x1a1508(0x158)];return helpers[_0x1a1508(0x166)][_0x1a1508(0x13e)]({'from':_0x5666f6,'to':_0xfbe272[_0x1a1508(0x16a)],'subject':_0xf982c7,'body':_0x2a1309});})[_0x252a50(0x16e)](_0x94beab=>{const _0x44c6e6=_0x252a50;return _0x5f23d8[_0x44c6e6(0x154)]({'status':!![],'message':_0x44c6e6(0x161)+_0xfbe272['user_name'],'data':_0x94beab});})['catch'](_0x5b6e40=>respondValidateError(_0x5f23d8,_0x5b6e40));}),bugRouters[_0x221577(0x132)]('/',async(_0x22f81d,_0x4cfa4a)=>{const _0x43c46d=_0x221577,_0x8d7704=new Validator({..._0x22f81d[_0x43c46d(0x158)]},{'device_model':_0x43c46d(0x147),'report':_0x43c46d(0x147)});return _0x8d7704[_0x43c46d(0x163)]()['then'](_0x1ee5d4=>{const _0x2df190=_0x43c46d;if(!_0x1ee5d4)throw Object[_0x2df190(0x162)](new Error(_0x2df190(0x140)),{'code':0x190,'details':_0x8d7704['errors']});})[_0x43c46d(0x16e)](()=>bugCtrl[_0x43c46d(0x13d)](_0x22f81d,_0x4cfa4a))['then'](_0x2cbada=>_0x4cfa4a[_0x43c46d(0x154)](_0x2cbada))['catch'](_0x2829d9=>respondValidateError(_0x4cfa4a,_0x2829d9));}),bugRouters['patch'](_0x221577(0x14e),async(_0x1204ad,_0x170e9f)=>{const _0x59b819=_0x221577,{uid:_0x31cefe,role:_0x221037}=getTokenInfo(_0x1204ad),_0x56042e=new Validator({..._0x1204ad[_0x59b819(0x158)],'id':_0x1204ad[_0x59b819(0x150)]['id']},{'id':_0x59b819(0x147)});return _0x56042e[_0x59b819(0x13a)](_0x1bb24b=>Promise[_0x59b819(0x14c)]([Bug[_0x59b819(0x146)](_0x1bb24b['inputs']['id'])])[_0x59b819(0x16e)](([_0x3f929c])=>{const _0xe41d6c=_0x59b819;if(!_0x3f929c)_0x1bb24b['error']('id',_0xe41d6c(0x151),'Bug\x20report\x20with\x20the\x20given\x20id\x20does\x20not\x20exist!');else!(_0x3f929c[_0xe41d6c(0x144)]===_0x31cefe||_0x221037==='ADMIN')&&_0x1bb24b['error'](_0xe41d6c(0x12f),_0xe41d6c(0x151),_0xe41d6c(0x15c));})),_0x56042e[_0x59b819(0x163)]()['then'](_0x2109fd=>{const _0x115d79=_0x59b819;if(!_0x2109fd)throw Object[_0x115d79(0x162)](new Error(_0x115d79(0x14f)),{'code':0x190,'details':_0x56042e[_0x115d79(0x169)]});return bugCtrl[_0x115d79(0x142)](_0x1204ad,_0x170e9f);})[_0x59b819(0x16e)](_0x24a2d9=>_0x170e9f[_0x59b819(0x154)](_0x24a2d9))['catch'](_0x27f848=>respondValidateError(_0x170e9f,_0x27f848));}),bugRouters['delete'](_0x221577(0x14e),async(_0x4a2bce,_0x1e688b)=>{const _0x2b97f8=_0x221577,{uid:_0x403674,role:_0xf36068}=getTokenInfo(_0x4a2bce),_0x20818a=new Validator({'id':_0x4a2bce[_0x2b97f8(0x150)]['id']},{'id':_0x2b97f8(0x147)});return _0x20818a[_0x2b97f8(0x13a)](_0x2e99b8=>Promise['all']([Bug[_0x2b97f8(0x146)](_0x2e99b8['inputs']['id'])])[_0x2b97f8(0x16e)](([_0x164174])=>{const _0x4da0f9=_0x2b97f8;if(!_0x164174)_0x2e99b8['error']('id',_0x4da0f9(0x151),_0x4da0f9(0x15b));else!(_0x164174[_0x4da0f9(0x144)]===_0x403674||_0xf36068==='ADMIN')&&_0x2e99b8[_0x4da0f9(0x13b)](_0x4da0f9(0x12f),_0x4da0f9(0x151),_0x4da0f9(0x157));})),_0x20818a[_0x2b97f8(0x163)]()[_0x2b97f8(0x16e)](_0x2d8ba6=>{const _0x5a8932=_0x2b97f8;if(!_0x2d8ba6)throw Object['assign'](new Error(_0x5a8932(0x14f)),{'code':0x190,'details':_0x20818a[_0x5a8932(0x169)]});return bugCtrl[_0x5a8932(0x143)](_0x4a2bce,_0x1e688b);})[_0x2b97f8(0x16e)](_0x3c87cc=>_0x1e688b[_0x2b97f8(0x154)](_0x3c87cc))[_0x2b97f8(0x159)](_0x28f075=>respondValidateError(_0x1e688b,_0x28f075));}),module['exports']=bugRouters;