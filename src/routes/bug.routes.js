const _0x4e4d=['all','138881apGhOM','deleteById','../controllers/bug.controller','../helpers/common.helpers','user_id','1610SeSjpY','../models/bug.model','Router','4YNEbvo','use','../middlewares/basic.middleware','inputs','error','check','You\x20have\x20no\x20permission\x20to\x20delete\x20this\x20report!','115827UkfMcI','Invalid\x20request!','post','275780wgLTTx','1591732luSyId','then','addPostRule','54839ISFISM','custom','query','delete','assign','required|integer','exports','getById','params','update','507010ksIMFa','required','user','json','You\x20have\x20no\x20permission\x20to\x20update\x20this\x20report!','../helpers/auth.helpers','node-input-validator','catch','../models/user.model','body','patch','create','Invalid\x20request','errors','ADMIN','get','Bug\x20report\x20with\x20the\x20given\x20id\x20does\x20not\x20exist!','Bug\x20report\x20does\x20not\x20exist\x20for\x20the\x20given\x20id!'];const _0x3cb4=function(_0x367a94,_0x515474){_0x367a94=_0x367a94-0x7a;let _0x4e4d73=_0x4e4d[_0x367a94];return _0x4e4d73;};const _0x4d0ec9=_0x3cb4;(function(_0x1be778,_0x434c0c){const _0x3e46c3=_0x3cb4;while(!![]){try{const _0x555845=-parseInt(_0x3e46c3(0x81))+parseInt(_0x3e46c3(0x86))+parseInt(_0x3e46c3(0x97))+-parseInt(_0x3e46c3(0xa1))+parseInt(_0x3e46c3(0x90))*-parseInt(_0x3e46c3(0x89))+-parseInt(_0x3e46c3(0x93))+parseInt(_0x3e46c3(0x94));if(_0x555845===_0x434c0c)break;else _0x1be778['push'](_0x1be778['shift']());}catch(_0xcc7afc){_0x1be778['push'](_0x1be778['shift']());}}}(_0x4e4d,0x40422));const express=require('express'),{Validator}=require(_0x4d0ec9(0xa7)),bugRouters=express[_0x4d0ec9(0x88)](),bugCtrl=require(_0x4d0ec9(0x83)),Bug=require(_0x4d0ec9(0x87)),User=require(_0x4d0ec9(0xa9)),{BearerMiddleware}=require(_0x4d0ec9(0x8b)),{getTokenInfo}=require(_0x4d0ec9(0xa6)),{respondValidateError}=require(_0x4d0ec9(0x84));bugRouters[_0x4d0ec9(0x8a)]((_0x183e46,_0x1cafb1,_0x112061)=>{BearerMiddleware(_0x183e46,_0x1cafb1,_0x112061);}),bugRouters[_0x4d0ec9(0x7d)]('/:id',async(_0x2e8b82,_0x4e780d)=>{const _0x230aa6=_0x4d0ec9,_0x22c678=new Validator({'id':_0x2e8b82[_0x230aa6(0x9f)]['id']},{'id':_0x230aa6(0x9c)});return _0x22c678[_0x230aa6(0x96)](async _0x59f9aa=>Promise['all']([Bug['getById'](_0x59f9aa[_0x230aa6(0x8c)]['id'])])[_0x230aa6(0x95)](([_0x74dd8c])=>{const _0xaa75a4=_0x230aa6;!_0x74dd8c&&_0x59f9aa[_0xaa75a4(0x8d)]('id','custom',_0xaa75a4(0x7f));})),_0x22c678[_0x230aa6(0x8e)]()[_0x230aa6(0x95)](_0x4b12a2=>{const _0x4f408c=_0x230aa6;if(!_0x4b12a2)throw Object['assign'](new Error(_0x4f408c(0x7a)),{'code':0x190,'details':_0x22c678[_0x4f408c(0x7b)]});})['then'](()=>bugCtrl[_0x230aa6(0x9e)](_0x2e8b82,_0x4e780d))[_0x230aa6(0x95)](_0x3dc9ab=>_0x4e780d[_0x230aa6(0xa4)](_0x3dc9ab))[_0x230aa6(0xa8)](_0x5ab4e5=>respondValidateError(_0x4e780d,_0x5ab4e5));}),bugRouters[_0x4d0ec9(0x7d)]('/',async(_0x1d563e,_0x2c2f0c)=>{const _0x1da0a1=_0x4d0ec9,{role:_0x2899da}=getTokenInfo(_0x1d563e),_0x52c68c=new Validator({..._0x1d563e[_0x1da0a1(0x99)]},{'limit':'required','page':'required'});return(_0x2899da===_0x1da0a1(0x7c)?bugCtrl['loadBugs'](_0x1d563e,_0x2c2f0c):bugCtrl['loadBugByUser'](_0x1d563e,_0x2c2f0c))['then'](_0x1edb6d=>_0x2c2f0c[_0x1da0a1(0xa4)](_0x1edb6d))['catch'](_0x4e65d9=>respondValidateError(_0x2c2f0c,_0x4e65d9));}),bugRouters[_0x4d0ec9(0x92)]('/',async(_0x42c616,_0x249948)=>{const _0x4b0853=_0x4d0ec9,_0x519fb6=new Validator({..._0x42c616[_0x4b0853(0xaa)]},{'device_model':_0x4b0853(0xa2),'report':_0x4b0853(0xa2)});return _0x519fb6[_0x4b0853(0x8e)]()[_0x4b0853(0x95)](_0xff06ae=>{const _0x26d168=_0x4b0853;if(!_0xff06ae)throw Object[_0x26d168(0x9b)](new Error('Invalid\x20request'),{'code':0x190,'details':_0x519fb6[_0x26d168(0x7b)]});})[_0x4b0853(0x95)](()=>bugCtrl[_0x4b0853(0xac)](_0x42c616,_0x249948))['then'](_0x5a7705=>_0x249948[_0x4b0853(0xa4)](_0x5a7705))['catch'](_0x50f0db=>respondValidateError(_0x249948,_0x50f0db));}),bugRouters[_0x4d0ec9(0xab)]('/:id',async(_0x208148,_0x4a12fe)=>{const _0x5bd940=_0x4d0ec9,{uid:_0x13629e,role:_0x2b1201}=getTokenInfo(_0x208148),_0x12e260=new Validator({..._0x208148[_0x5bd940(0xaa)],'id':_0x208148[_0x5bd940(0x9f)]['id']},{'id':_0x5bd940(0xa2)});return _0x12e260[_0x5bd940(0x96)](_0x1d1d97=>Promise[_0x5bd940(0x80)]([Bug[_0x5bd940(0x9e)](_0x1d1d97['inputs']['id'])])[_0x5bd940(0x95)](([_0x3f6313])=>{const _0xc1b9b7=_0x5bd940;if(!_0x3f6313)_0x1d1d97[_0xc1b9b7(0x8d)]('id',_0xc1b9b7(0x98),_0xc1b9b7(0x7e));else!(_0x3f6313['user_id']===_0x13629e||_0x2b1201!==_0xc1b9b7(0x7c))&&_0x1d1d97['error'](_0xc1b9b7(0xa3),'custom',_0xc1b9b7(0xa5));})),_0x12e260[_0x5bd940(0x8e)]()[_0x5bd940(0x95)](_0x2053df=>{const _0x4e74dd=_0x5bd940;if(!_0x2053df)throw Object[_0x4e74dd(0x9b)](new Error(_0x4e74dd(0x91)),{'code':0x190,'details':_0x12e260[_0x4e74dd(0x7b)]});return bugCtrl[_0x4e74dd(0xa0)](_0x208148,_0x4a12fe);})[_0x5bd940(0x95)](_0x1de75b=>_0x4a12fe[_0x5bd940(0xa4)](_0x1de75b))['catch'](_0x3bd623=>respondValidateError(_0x4a12fe,_0x3bd623));}),bugRouters[_0x4d0ec9(0x9a)]('/:id',async(_0x53f80b,_0x32aea4)=>{const _0x48945c=_0x4d0ec9,{uid:_0x5bbbb0,role:_0xcf3c24}=getTokenInfo(_0x53f80b),_0xc59006=new Validator({'id':_0x53f80b[_0x48945c(0x9f)]['id']},{'id':_0x48945c(0xa2)});return _0xc59006[_0x48945c(0x96)](_0x129092=>Promise[_0x48945c(0x80)]([Bug['getById'](_0x129092[_0x48945c(0x8c)]['id'])])[_0x48945c(0x95)](([_0x2d5029])=>{const _0x5b67a3=_0x48945c;if(!_0x2d5029)_0x129092[_0x5b67a3(0x8d)]('id',_0x5b67a3(0x98),_0x5b67a3(0x7e));else!(_0x2d5029[_0x5b67a3(0x85)]===_0x5bbbb0||_0xcf3c24===_0x5b67a3(0x7c))&&_0x129092[_0x5b67a3(0x8d)](_0x5b67a3(0xa3),_0x5b67a3(0x98),_0x5b67a3(0x8f));})),_0xc59006[_0x48945c(0x8e)]()[_0x48945c(0x95)](_0x1709bf=>{const _0x47799d=_0x48945c;if(!_0x1709bf)throw Object[_0x47799d(0x9b)](new Error(_0x47799d(0x91)),{'code':0x190,'details':_0xc59006[_0x47799d(0x7b)]});return bugCtrl[_0x47799d(0x82)](_0x53f80b,_0x32aea4);})['then'](_0x5eb01c=>_0x32aea4[_0x48945c(0xa4)](_0x5eb01c))[_0x48945c(0xa8)](_0x35c688=>respondValidateError(_0x32aea4,_0x35c688));}),module[_0x4d0ec9(0x9d)]=bugRouters;