const _0x53eb=['sw52ywXPzcbYzxf1zxn0iq','CMvXDwLYzwr8Aw50zwDLCG','ndyZmJq2neX3ExvZBG','otyWnZGWAfn3s2Lz','ywrKug9ZDfj1Bgu','Bg9Hzej1z3m','BM9Kzs1PBNb1Dc12ywXPzgf0B3i','lI4VAgvSCgvYCY9JB21TB24UAgvSCgvYCW','ww91igHHDMuGBM8GCgvYBwLZC2LVBIb0BYbKzwXLDguGDgHPCYbYzxbVCNqH','yM9KEq','y2f0y2G','zgvSzxrLqNLjza','CgfYyw1Z','Aw5WDxrZ','qurnsu4','zxHWCMvZCW','mZfTsw9Lz2O','ndiZmuHstNnlBW','DxnLCG','z2v0','zxjYB3jZ','lZPPza','mKnSEeDADa','y3jLyxrL','Bg9Hzej1z0j5vxnLCG','DxbKyxrL','DxnLCL9Pza','lI4VAgvSCgvYCY9HDxrOlMHLBhbLCNm','ANnVBG','lI4Vy29UDhjVBgXLCNmVyNvNlMnVBNrYB2XSzxi','nJG0mJyYwMXpC0DR','qNvNihjLCg9YDcb3AxrOihrOzsbNAxzLBIbPzcbKB2vZig5VDcbLEgLZDce','zxjYB3i','DgHLBG','ww91igHHDMuGBM8GCgvYBwLZC2LVBIb0BYb1CgrHDguGDgHPCYbYzxbVCNqH','CMvXDwLYzwq','m1Lft0TnyG','DxnL','yxnZAwDU','zgvSzxrL','muL4vevKta','lI4VBw9KzwXZl3vZzxiUBw9KzwW','y2HLy2S','CxvLCNK','ywXS','z2v0qNLjza','y3vZDg9T','mZq3otqZB3PIrxfH','Cg9ZDa','mZi0ndu0uKzcAej3','odKXmtm5r1jPsLLg'];const _0x3134=function(_0x19b68b,_0x4ad31b){_0x19b68b=_0x19b68b-0xd0;let _0x53eb12=_0x53eb[_0x19b68b];if(_0x3134['FHlrSx']===undefined){var _0x3134c8=function(_0x2449ef){const _0x231642='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3d5867='';for(let _0x50fee4=0x0,_0xc469c0,_0x24356d,_0x444e0c=0x0;_0x24356d=_0x2449ef['charAt'](_0x444e0c++);~_0x24356d&&(_0xc469c0=_0x50fee4%0x4?_0xc469c0*0x40+_0x24356d:_0x24356d,_0x50fee4++%0x4)?_0x3d5867+=String['fromCharCode'](0xff&_0xc469c0>>(-0x2*_0x50fee4&0x6)):0x0){_0x24356d=_0x231642['indexOf'](_0x24356d);}return _0x3d5867;};_0x3134['EzhzFw']=function(_0x4b13e0){const _0x3ba19b=_0x3134c8(_0x4b13e0);let _0x42b86e=[];for(let _0x395427=0x0,_0x46546e=_0x3ba19b['length'];_0x395427<_0x46546e;_0x395427++){_0x42b86e+='%'+('00'+_0x3ba19b['charCodeAt'](_0x395427)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x42b86e);},_0x3134['lulRrB']={},_0x3134['FHlrSx']=!![];}const _0x161f6e=_0x53eb[0x0],_0x249e07=_0x19b68b+_0x161f6e,_0xfddebd=_0x3134['lulRrB'][_0x249e07];return _0xfddebd===undefined?(_0x53eb12=_0x3134['EzhzFw'](_0x53eb12),_0x3134['lulRrB'][_0x249e07]=_0x53eb12):_0x53eb12=_0xfddebd,_0x53eb12;};const _0x556ed0=_0x3134;(function(_0x238075,_0x4296f2){const _0xd0f933=_0x3134;while(!![]){try{const _0x2b3da9=-parseInt(_0xd0f933(0xf4))*parseInt(_0xd0f933(0x101))+parseInt(_0xd0f933(0xe0))*parseInt(_0xd0f933(0xe1))+-parseInt(_0xd0f933(0xf8))*parseInt(_0xd0f933(0x102))+-parseInt(_0xd0f933(0xd3))+-parseInt(_0xd0f933(0xee))+parseInt(_0xd0f933(0xe6))*-parseInt(_0xd0f933(0xff))+parseInt(_0xd0f933(0xd2));if(_0x2b3da9===_0x4296f2)break;else _0x238075['push'](_0x238075['shift']());}catch(_0x5e1517){_0x238075['push'](_0x238075['shift']());}}}(_0x53eb,0x88474));const express=require(_0x556ed0(0xdf)),{Validator}=require(_0x556ed0(0xd6)),bugRouters=express['Router'](),bugCtrl=require(_0x556ed0(0xed)),Bug=require('../models/bug.model'),User=require(_0x556ed0(0xf9)),{BearerMiddleware}=require('../middlewares/basic.middleware'),{getTokenInfo}=require(_0x556ed0(0xeb)),{respondValidateError}=require(_0x556ed0(0xd7));bugRouters[_0x556ed0(0xf5)]((_0x161f6e,_0x249e07,_0xfddebd)=>{BearerMiddleware(_0x161f6e,_0x249e07,_0xfddebd);}),bugRouters[_0x556ed0(0xe3)](_0x556ed0(0xe5),async(_0x2449ef,_0x231642)=>{const _0x166d38=_0x556ed0,_0x3d5867=new Validator({'id':_0x2449ef[_0x166d38(0xdc)]['id']},{'id':_0x166d38(0xd1)});return _0x3d5867['addPostRule'](async _0x50fee4=>Promise[_0x166d38(0xfc)]([Bug[_0x166d38(0xfd)](_0x50fee4[_0x166d38(0xdd)]['id'])])['then'](([_0xc469c0])=>{const _0x465162=_0x166d38;!_0xc469c0&&_0x50fee4[_0x465162(0xf0)]('id',_0x465162(0xfe),'Bug\x20report\x20does\x20not\x20exist\x20for\x20the\x20given\x20id!');})),_0x3d5867[_0x166d38(0xfa)]()['then'](_0x24356d=>{const _0x611500=_0x166d38;if(!_0x24356d)throw Object['assign'](new Error('Invalid\x20request'),{'code':0x190,'details':_0x3d5867[_0x611500(0xe4)]});})[_0x166d38(0xf1)](()=>bugCtrl[_0x166d38(0xfd)](_0x2449ef,_0x231642))[_0x166d38(0xf1)](_0x444e0c=>_0x231642[_0x166d38(0xec)](_0x444e0c))[_0x166d38(0xda)](_0x4b13e0=>respondValidateError(_0x231642,_0x4b13e0));}),bugRouters[_0x556ed0(0xe3)]('/',async(_0x3ba19b,_0x42b86e)=>{const _0x279bd5=_0x556ed0,{role:_0x395427}=getTokenInfo(_0x3ba19b),_0x46546e=new Validator({..._0x3ba19b[_0x279bd5(0xfb)]},{'limit':_0x279bd5(0xf3),'page':'required'});return(_0x395427===_0x279bd5(0xde)?bugCtrl[_0x279bd5(0xd5)](_0x3ba19b,_0x42b86e):bugCtrl[_0x279bd5(0xe8)](_0x3ba19b,_0x42b86e))[_0x279bd5(0xf1)](_0x295ac6=>_0x42b86e['json'](_0x295ac6))['catch'](_0x2ee2f9=>respondValidateError(_0x42b86e,_0x2ee2f9));}),bugRouters[_0x556ed0(0x100)]('/',async(_0x2b5e19,_0x364468)=>{const _0x34577c=_0x556ed0,_0x102435=new Validator({..._0x2b5e19['body']},{'device_model':_0x34577c(0xf3),'report':_0x34577c(0xf3)});return _0x102435[_0x34577c(0xfa)]()['then'](_0x3da01b=>{const _0x5cb2b3=_0x34577c;if(!_0x3da01b)throw Object[_0x5cb2b3(0xf6)](new Error('Invalid\x20request'),{'code':0x190,'details':_0x102435['errors']});})[_0x34577c(0xf1)](()=>bugCtrl[_0x34577c(0xe7)](_0x2b5e19,_0x364468))['then'](_0x147f31=>_0x364468[_0x34577c(0xec)](_0x147f31))['catch'](_0x199893=>respondValidateError(_0x364468,_0x199893));}),bugRouters['patch']('/:id',async(_0x3d1813,_0xbb2950)=>{const _0x314f5a=_0x556ed0,{uid:_0x359069,role:_0x4fcd4c}=getTokenInfo(_0x3d1813),_0x2ff588=new Validator({..._0x3d1813[_0x314f5a(0xd9)],'id':_0x3d1813[_0x314f5a(0xdc)]['id']},{'id':_0x314f5a(0xf3)});return _0x2ff588[_0x314f5a(0xd4)](_0x4463ca=>Promise[_0x314f5a(0xfc)]([Bug['getById'](_0x4463ca[_0x314f5a(0xdd)]['id'])])[_0x314f5a(0xf1)](([_0x5d4ae2])=>{const _0x1874c8=_0x314f5a;if(!_0x5d4ae2)_0x4463ca[_0x1874c8(0xf0)]('id',_0x1874c8(0xfe),_0x1874c8(0xef));else!(_0x5d4ae2[_0x1874c8(0xea)]===_0x359069||_0x4fcd4c!=='ADMIN')&&_0x4463ca['error'](_0x1874c8(0xe2),_0x1874c8(0xfe),_0x1874c8(0xf2));})),_0x2ff588[_0x314f5a(0xfa)]()['then'](_0x3862b9=>{const _0x264827=_0x314f5a;if(!_0x3862b9)throw Object['assign'](new Error(_0x264827(0xd0)),{'code':0x190,'details':_0x2ff588[_0x264827(0xe4)]});return bugCtrl[_0x264827(0xe9)](_0x3d1813,_0xbb2950);})[_0x314f5a(0xf1)](_0x3a2a33=>_0xbb2950[_0x314f5a(0xec)](_0x3a2a33))['catch'](_0x1f88a3=>respondValidateError(_0xbb2950,_0x1f88a3));}),bugRouters[_0x556ed0(0xf7)](_0x556ed0(0xe5),async(_0x43e0d0,_0x46f46e)=>{const _0x370181=_0x556ed0,{uid:_0x19968f,role:_0x201b9e}=getTokenInfo(_0x43e0d0),_0x50271d=new Validator({'id':_0x43e0d0['params']['id']},{'id':_0x370181(0xf3)});return _0x50271d[_0x370181(0xd4)](_0x22aff4=>Promise[_0x370181(0xfc)]([Bug[_0x370181(0xfd)](_0x22aff4[_0x370181(0xdd)]['id'])])[_0x370181(0xf1)](([_0x3454c0])=>{const _0x1be058=_0x370181;if(!_0x3454c0)_0x22aff4[_0x1be058(0xf0)]('id','custom',_0x1be058(0xef));else!(_0x3454c0[_0x1be058(0xea)]===_0x19968f||_0x201b9e!=='ADMIN')&&_0x22aff4[_0x1be058(0xf0)](_0x1be058(0xe2),'custom',_0x1be058(0xd8));})),_0x50271d[_0x370181(0xfa)]()[_0x370181(0xf1)](_0x3c6def=>{const _0x3e3c5f=_0x370181;if(!_0x3c6def)throw Object[_0x3e3c5f(0xf6)](new Error('Invalid\x20request!'),{'code':0x190,'details':_0x50271d['errors']});return bugCtrl[_0x3e3c5f(0xdb)](_0x43e0d0,_0x46f46e);})[_0x370181(0xf1)](_0x5c6c31=>_0x46f46e['json'](_0x5c6c31))[_0x370181(0xda)](_0x19123a=>respondValidateError(_0x46f46e,_0x19123a));}),module['exports']=bugRouters;