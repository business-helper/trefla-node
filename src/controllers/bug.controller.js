const _0x1dd3=['pagination','138947fcOIID','192749PRCzQb','1iZOgFl','fixed','body','getByIds','update','../helpers/auth.helpers','Bug\x20report\x20has\x20been\x20deleted!','toString','1UEjWEa','length','query','output','Bug\x20report\x20has\x20been\x20updated!','user_id','251455uBOAKu','params','save','430318KtrZzC','node-input-validator','forEach','827352yERgXo','2QqGBsG','../models/bug.model','deleteById','../models/user.model','success','includes','then','SIMPLE','5MOYKjP','We\x20received\x20your\x20bug\x20report.\x20Thanks!','all','1499299HaddkW','log','map','../helpers/common.helpers','126593DJgGOU','loadBugByUser','getById','getTotal'];const _0x8974=function(_0x4b92cd,_0x4a7f0d){_0x4b92cd=_0x4b92cd-0x172;let _0x1dd392=_0x1dd3[_0x4b92cd];return _0x1dd392;};const _0x18ccde=_0x8974;(function(_0x303d03,_0x53591b){const _0x9351e6=_0x8974;while(!![]){try{const _0x50925d=parseInt(_0x9351e6(0x189))+-parseInt(_0x9351e6(0x18a))*parseInt(_0x9351e6(0x17d))+-parseInt(_0x9351e6(0x19c))+-parseInt(_0x9351e6(0x199))*parseInt(_0x9351e6(0x18b))+parseInt(_0x9351e6(0x184))*-parseInt(_0x9351e6(0x175))+parseInt(_0x9351e6(0x174))+-parseInt(_0x9351e6(0x180))*-parseInt(_0x9351e6(0x193));if(_0x50925d===_0x53591b)break;else _0x303d03['push'](_0x303d03['shift']());}catch(_0x15f9dd){_0x303d03['push'](_0x303d03['shift']());}}}(_0x1dd3,0x8a66e));const {Validator}=require(_0x18ccde(0x172)),CONSTS=require('../constants/socket.constant'),Bug=require(_0x18ccde(0x176)),User=require(_0x18ccde(0x178)),{getTokenInfo}=require(_0x18ccde(0x190)),{bool2Int,respondError}=require(_0x18ccde(0x183)),{generateBugData}=require('../helpers/model.helpers');exports['create']=async(_0x46b352,_0x353a6c)=>{const _0x575ba3=_0x18ccde,{uid:_0x2912ce}=getTokenInfo(_0x46b352);console[_0x575ba3(0x181)]('user_id',_0x2912ce);let _0x47b2f0=generateBugData({'user_id':_0x2912ce,..._0x46b352[_0x575ba3(0x18d)]});return Bug['create'](_0x47b2f0)[_0x575ba3(0x17b)](_0x322f2e=>{const _0x195f62=_0x575ba3;return{'status':!![],'message':_0x195f62(0x17e),'data':Bug[_0x195f62(0x196)](_0x322f2e)};});},exports[_0x18ccde(0x18f)]=async(_0x4ed0e2,_0x1f8f36)=>{const _0x388a1f=_0x18ccde;let _0x220015=await Bug[_0x388a1f(0x186)](_0x4ed0e2[_0x388a1f(0x19a)]['id']),_0xb1f6b2={};const _0x58683e=['id',_0x388a1f(0x198)];return Object['keys'](_0x4ed0e2[_0x388a1f(0x18d)])['forEach'](_0x1c54cb=>{const _0xe4a8dd=_0x388a1f;if(_0x58683e[_0xe4a8dd(0x17a)](_0x1c54cb)){}else _0x220015[_0x1c54cb]!==undefined&&(_0x220015[_0x1c54cb]=_0x4ed0e2[_0xe4a8dd(0x18d)][_0x1c54cb]);}),Bug[_0x388a1f(0x19b)](_0x220015)[_0x388a1f(0x17b)](_0x1a9b54=>{const _0x22e645=_0x388a1f;return{'status':!![],'message':_0x22e645(0x197),'data':Bug[_0x22e645(0x196)](_0x1a9b54)};});},exports['getById']=async(_0x5813ae,_0x5082b7)=>{const _0x2625cb=_0x18ccde;return Bug['getById'](_0x5813ae[_0x2625cb(0x19a)]['id'])[_0x2625cb(0x17b)](_0xec09b1=>{const _0x551442=_0x2625cb;return{'status':!![],'message':_0x551442(0x179),'data':Bug[_0x551442(0x196)](_0xec09b1)};});},exports['deleteById']=async(_0x5d5a02,_0x1843d3)=>{const _0x534979=_0x18ccde;return Bug[_0x534979(0x177)](_0x5d5a02[_0x534979(0x19a)]['id'])[_0x534979(0x17b)](_0xf0097=>{const _0x12e54b=_0x534979;return{'status':!![],'message':_0x12e54b(0x191),'data':{}};});},exports[_0x18ccde(0x185)]=async(_0x219374,_0x2ce4e7)=>{const _0x30b02b=_0x18ccde;let {page:_0x18cea0,limit:_0x4f62fb}=_0x219374[_0x30b02b(0x195)];_0x18cea0=Number(_0x18cea0),_0x4f62fb=Number(_0x4f62fb);const {uid:_0x3769c6}=getTokenInfo(_0x219374);let _0x4fc266={};return _0x4fc266[_0x30b02b(0x198)]=_0x3769c6,_0x219374[_0x30b02b(0x195)][_0x30b02b(0x18c)]!==undefined&&(_0x4fc266['fixed']=Number(_0x219374[_0x30b02b(0x195)][_0x30b02b(0x18c)])),Promise[_0x30b02b(0x17f)]([Bug[_0x30b02b(0x188)]({'page':_0x18cea0,'limit':_0x4f62fb,..._0x4fc266}),Bug[_0x30b02b(0x187)]({..._0x4fc266})])['then'](([_0x12ec06,_0x4027bd])=>{const _0x233518=_0x30b02b;return{'status':!![],'message':_0x233518(0x179),'data':_0x12ec06['map'](_0x1f56c3=>Bug['output'](_0x1f56c3)),'pager':{'page':_0x18cea0,'limit':_0x4f62fb,'total':_0x4027bd},'hasMore':_0x18cea0*_0x4f62fb+_0x12ec06['length']<_0x4027bd?!![]:![]};});},exports['loadBugs']=async(_0x482ca1,_0x24ab49)=>{const _0xcaab73=_0x18ccde;let {page:_0x55d43b,limit:_0x11b208}=_0x482ca1[_0xcaab73(0x195)];_0x55d43b=Number(_0x55d43b),_0x11b208=Number(_0x11b208);const {uid:_0x44a542}=getTokenInfo(_0x482ca1);let _0x56c696={};return _0x482ca1[_0xcaab73(0x195)][_0xcaab73(0x18c)]!==undefined&&(_0x56c696[_0xcaab73(0x18c)]=Number(_0x482ca1[_0xcaab73(0x195)][_0xcaab73(0x18c)])),Promise[_0xcaab73(0x17f)]([Bug['pagination']({'page':_0x55d43b,'limit':_0x11b208,..._0x56c696}),Bug[_0xcaab73(0x187)]({..._0x56c696})])[_0xcaab73(0x17b)](async([_0x3c8257,_0xb4f5aa])=>{const _0x546c54=_0xcaab73,_0x2e3f81=_0x3c8257['map'](_0x5384be=>_0x5384be[_0x546c54(0x198)]),_0x23c0a6=await User[_0x546c54(0x18e)](_0x2e3f81),_0x2d315a={};return _0x23c0a6[_0x546c54(0x173)](_0x35f716=>{const _0x586bd1=_0x546c54;_0x2d315a[_0x35f716['id'][_0x586bd1(0x192)]()]=_0x35f716;}),{'status':!![],'message':'success','data':_0x3c8257[_0x546c54(0x182)](_0x344718=>{const _0x12f50a=_0x546c54;return{'user':User[_0x12f50a(0x196)](_0x2d315a[_0x344718[_0x12f50a(0x198)][_0x12f50a(0x192)]()],_0x12f50a(0x17c)),...Bug[_0x12f50a(0x196)](_0x344718)};}),'pager':{'page':_0x55d43b,'limit':_0x11b208,'total':_0xb4f5aa},'hasMore':_0x55d43b*_0x11b208+_0x3c8257[_0x546c54(0x194)]<_0xb4f5aa?!![]:![]};});};