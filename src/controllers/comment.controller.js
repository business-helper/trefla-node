const _0x2829=['z2v0qwXS','ww91igXPA2vKihrOzsbJB21Tzw50iq==','DgfYz2v0x2LK','ww91igXPA2vKigL0igfSCMvHzhKH','BwvZC2fNzq==','Dg9Nz2XLq29TBwvUDeXPA2u=','B3v0Chv0','ww91igXPA2vKihrOAxmGy29TBwvUDcbHBhjLywr5iq==','ChvZAa==','Aw5JBhvKzxm=','DhLWzq==','C3rHDhvZ','yxnZAwDU','BgLRzwq=','DgLTzq==','Dg9tDhjPBMC=','lI4VAgvSCgvYCY9TB2rLBc5OzwXWzxjZ','DxnLCKXPA2vKq29TBwvUDa==','y3jLyxrL','lI4VBw9KzwXZl3vZzxiUBw9KzwW=','y29TBwvUDeXPA2vZt2zvC2vY','C3vJy2vZCW==','y2f0y2G=','zMfPBgvK','y29TBwvUDe51BwjLCG==','AxnhDwvZDa==','A2v5CW==','z2v0qNLjzhm=','lI4VBw9KzwXZl2nVBw1LBNrmAwTLlM1VzgvS','zgvSzxrLqNLjza==','BgvUz3rO','BgLRzv8=','DxnLCL9Pza==','q29TBwvUDcbOyxmGyMvLBIbKzwXLDgvKiq==','rMfPBgvKihrVigrPC2XPA2uGDgHLignVBw1LBNqH','z2v0q291BNrpzKnVBw1LBNrZ','C2f2zq==','w0XPA2vZxq==','zg9mAwTLq29TBwvUDa==','yM9KEq==','z2v0qNLjza==','CgfYyw1Z','ywXS','Bg9N','zM9YrwfJAa==','BwfW','DxbKyxrLqNLjza==','lI4VBw9KzwXZl3bVC3qUBw9KzwW=','u29TzxrOAw5NihDLBNqGD3jVBMCH','lI4VBw9KzwXZl2nVBw1LBNqUBw9KzwW=','ANnVBG==','C2LTCgXLugfNAw5HDgLVBG==','BM9Kzs1PBNb1Dc12ywXPzgf0B3i=','x251Bq==','CgfNAw5HDgLVBG==','rMfPBgvKihrVigXPA2uGDgHLignVBw1LBNqH','ww91igrPC2XPA2vKihrOzsbJB21Tzw50iq==','DgHLBG==','BwLUswq=','lI4VAgvSCgvYCY9HDxrOlMHLBhbLCNm=','CxvLCNK=','zMLSDgvY','q09ntuvova==','ue9tva=='];(function(_0x311d5c,_0x16a266){const _0x28294b=function(_0x57c26b){while(--_0x57c26b){_0x311d5c['push'](_0x311d5c['shift']());}};_0x28294b(++_0x16a266);}(_0x2829,0xa0));const _0x57c2=function(_0x311d5c,_0x16a266){_0x311d5c=_0x311d5c-0x1b8;let _0x28294b=_0x2829[_0x311d5c];if(_0x57c2['izzOEE']===undefined){var _0x57c26b=function(_0x25e4d7){const _0xff0850='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=',_0x3f9f02=String(_0x25e4d7)['replace'](/=+$/,'');let _0x918699='';for(let _0x4e191d=0x0,_0x1674e0,_0x1da91c,_0x11476f=0x0;_0x1da91c=_0x3f9f02['charAt'](_0x11476f++);~_0x1da91c&&(_0x1674e0=_0x4e191d%0x4?_0x1674e0*0x40+_0x1da91c:_0x1da91c,_0x4e191d++%0x4)?_0x918699+=String['fromCharCode'](0xff&_0x1674e0>>(-0x2*_0x4e191d&0x6)):0x0){_0x1da91c=_0xff0850['indexOf'](_0x1da91c);}return _0x918699;};_0x57c2['WRDTVN']=function(_0x4677e8){const _0x4b21f8=_0x57c26b(_0x4677e8);let _0x3afa98=[];for(let _0x1086ff=0x0,_0x2ed3ff=_0x4b21f8['length'];_0x1086ff<_0x2ed3ff;_0x1086ff++){_0x3afa98+='%'+('00'+_0x4b21f8['charCodeAt'](_0x1086ff)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3afa98);},_0x57c2['doODNJ']={},_0x57c2['izzOEE']=!![];}const _0xc1af55=_0x57c2['doODNJ'][_0x311d5c];return _0xc1af55===undefined?(_0x28294b=_0x57c2['WRDTVN'](_0x28294b),_0x57c2['doODNJ'][_0x311d5c]=_0x28294b):_0x28294b=_0xc1af55,_0x28294b;};const _0x18181c=_0x57c2,{Validator}=require(_0x18181c(0x1cc)),User=require(_0x18181c(0x1eb)),Post=require(_0x18181c(0x1c7)),Comment=require(_0x18181c(0x1c9)),CommentLike=require(_0x18181c(0x1f4)),{getTokenInfo}=require(_0x18181c(0x1d3)),{bool2Int,getTotalLikes,generateTZTimeString,respondError}=require('../helpers/common.helpers'),{generateCommentData,generateCommentLikeData}=require(_0x18181c(0x1e8));exports[_0x18181c(0x1ea)]=(_0xc1af55,_0x25e4d7)=>{const _0x4a07c3=_0x18181c,{uid:_0xff0850}=getTokenInfo(_0xc1af55);let _0x3f9f02=generateCommentData(_0xc1af55[_0x4a07c3(0x1bf)]);_0x3f9f02['user_id']=_0xff0850,_0x3f9f02[_0x4a07c3(0x1e6)]=_0xc1af55[_0x4a07c3(0x1bf)][_0x4a07c3(0x1e6)]?_0xc1af55[_0x4a07c3(0x1bf)][_0x4a07c3(0x1e6)]:generateTZTimeString();const _0x918699=_0xc1af55[_0x4a07c3(0x1bf)][_0x4a07c3(0x1e2)]===_0x4a07c3(0x1d6)?Comment:Post;let _0x4e191d;return Comment[_0x4a07c3(0x1ea)](_0x3f9f02)[_0x4a07c3(0x1d1)](_0x1674e0=>{const _0x5caecb=_0x4a07c3;return _0x4e191d=_0x1674e0,Promise[_0x5caecb(0x1c2)]([_0x918699[_0x5caecb(0x1c0)](_0xc1af55[_0x5caecb(0x1bf)]['target_id']),Comment['commentNumber']({'target_id':_0xc1af55[_0x5caecb(0x1bf)]['target_id'],'type':_0xc1af55['body']['type']})]);})[_0x4a07c3(0x1d1)](([_0x1da91c,_0x11476f])=>{const _0x5238f0=_0x4a07c3;return Promise[_0x5238f0(0x1c2)]([User[_0x5238f0(0x1c0)](_0x4e191d[_0x5238f0(0x1b8)]),_0x918699[_0x5238f0(0x1bc)]({..._0x1da91c,'comment_num':_0x11476f})]);})[_0x4a07c3(0x1d1)](([_0x4677e8])=>{const _0x2bdfb1=_0x4a07c3;return _0x4e191d=Comment[_0x2bdfb1(0x1de)](_0x4e191d),_0x25e4d7[_0x2bdfb1(0x1ca)]({'status':!![],'message':_0x2bdfb1(0x1ed),'data':{..._0x4e191d,'liked':0x0,'user':User[_0x2bdfb1(0x1de)](_0x4677e8)}});})[_0x4a07c3(0x1ee)](_0x4b21f8=>respondError(_0x25e4d7,_0x4b21f8));},exports[_0x18181c(0x1c0)]=(_0x3afa98,_0x1086ff)=>{const _0x3381a=_0x18181c,{id:_0x2ed3ff}=_0x3afa98['params'];return Comment['getById'](_0x2ed3ff)[_0x3381a(0x1d1)](_0x49cb30=>Promise[_0x3381a(0x1c2)]([_0x49cb30,User['getById'](_0x49cb30[_0x3381a(0x1b8)]),CommentLike[_0x3381a(0x1ec)]({'comment_id':_0x2ed3ff,'user_id':_0x49cb30['user_id']})]))[_0x3381a(0x1d1)](([_0x2418ba,_0x15a4fb,_0x5ab1da])=>{const _0x286a42=_0x3381a;return console[_0x286a42(0x1c3)](_0x286a42(0x1bd),_0x5ab1da),_0x2418ba=Comment['output'](_0x2418ba),_0x1086ff['json']({'status':!![],'message':'success','data':{..._0x2418ba,'liked':_0x5ab1da[_0x286a42(0x1f6)]>0x1?0x1:0x0,'user':User[_0x286a42(0x1de)](_0x15a4fb)}});})[_0x3381a(0x1ee)](_0x335777=>respondError(_0x1086ff,_0x335777));},exports['pagination']=(_0x31930f,_0x300e5d)=>{const _0x146848=_0x18181c,{uid:_0x840ecc}=getTokenInfo(_0x31930f),{last_id:_0x584271,limit:_0x20f4f9,target_id:_0x9faa85,type:_0x3a206c}=_0x31930f['body'];let _0x4bd523=[],_0x477b87=0x0,_0x32faa5={};return _minId=0x0,Promise[_0x146848(0x1c2)]([Comment[_0x146848(0x1ce)]({'limit':_0x20f4f9,'last_id':_0x584271,'target_id':_0x9faa85,'type':_0x3a206c}),Comment[_0x146848(0x1bb)]({'target_id':_0x9faa85,'type':_0x3a206c}),Comment[_0x146848(0x1d2)]({'target_id':_0x9faa85,'type':_0x3a206c})])[_0x146848(0x1d1)](async([_0x5d364e,_0x4719e3,_0x51403d])=>{const _0x1f0496=_0x146848;_0x4bd523=_0x5d364e,_0x477b87=_0x4719e3,_minId=_0x51403d;const _0x565e48=_0x5d364e[_0x1f0496(0x1c5)](_0x305df8=>_0x305df8[_0x1f0496(0x1b8)]);return User[_0x1f0496(0x1f3)](_0x565e48);})['then'](_0x131693=>{const _0x1efa26=_0x146848;return _0x131693[_0x1efa26(0x1c5)](_0x1d6b65=>_0x32faa5[_0x1d6b65['id']]=_0x1d6b65),Promise[_0x1efa26(0x1c2)](_0x4bd523[_0x1efa26(0x1c5)](_0x20e4d8=>CommentLike[_0x1efa26(0x1ec)]({'user_id':_0x840ecc,'comment_id':_0x20e4d8['id']})));})['then'](_0x5c5c3c=>{const _0x439467=_0x146848;return _0x4bd523=_0x4bd523[_0x439467(0x1c5)](_0x49b717=>Comment[_0x439467(0x1de)](_0x49b717)),_0x4bd523=_0x4bd523[_0x439467(0x1c5)]((_0x2fb187,_0x38a9bf)=>({..._0x2fb187,'liked':_0x5c5c3c[_0x38a9bf][_0x439467(0x1f6)]>0x0?0x1:0x0,'user':User[_0x439467(0x1de)](_0x32faa5[_0x2fb187[_0x439467(0x1b8)]])})),_0x3a206c===_0x439467(0x1d7)?Promise[_0x439467(0x1c2)](_0x4bd523[_0x439467(0x1c5)](_0x2ca93c=>Comment[_0x439467(0x1ce)]({'limit':0x2710,'offset':0x0,'target_id':_0x2ca93c['id'],'type':_0x439467(0x1d6)}))):[];})[_0x146848(0x1d1)](async _0x2999ad=>{const _0x59e9ed=_0x146848;if(_0x2999ad[_0x59e9ed(0x1f6)]>0x0){let _0x4114cb=[0x0],_0x23aa1d=[0x0];_0x2999ad['forEach'](_0x4dc7c8=>{_0x4dc7c8['forEach'](_0x32f69a=>{const _0x4e4dbc=_0x57c2;_0x4114cb[_0x4e4dbc(0x1e0)](_0x32f69a[_0x4e4dbc(0x1b8)]),!_0x23aa1d[_0x4e4dbc(0x1e1)](_0x32f69a['id'])?_0x23aa1d[_0x4e4dbc(0x1e0)](_0x32f69a['id']):null;});});const _0x301fc4=await User[_0x59e9ed(0x1f3)](_0x4114cb);let _0x2a6c93={};_0x301fc4[_0x59e9ed(0x1c4)](_0x234065=>{_0x2a6c93[_0x234065['id']]=_0x234065;});const _0x5e3928=await Promise['all'](_0x23aa1d[_0x59e9ed(0x1c5)](_0x1ad0f5=>CommentLike[_0x59e9ed(0x1ec)]({'user_id':_0x840ecc,'comment_id':_0x1ad0f5}))),_0x1387b6={};_0x5e3928['forEach']((_0x446749,_0x47c898)=>{_0x1387b6[_0x23aa1d[_0x47c898]]=_0x5e3928[_0x47c898];}),_0x2999ad[_0x59e9ed(0x1c4)]((_0x319e64,_0x1fbf86)=>{const _0x19a6d0=_0x59e9ed,_0x499cbf=_0x319e64[_0x19a6d0(0x1c5)](_0x33e988=>({...Comment['output'](_0x33e988),'liked':_0x1387b6[_0x33e988['id']][_0x19a6d0(0x1f6)]>0x0?0x1:0x0,'user':User['output'](_0x2a6c93[_0x33e988[_0x19a6d0(0x1b8)]])}));_0x4bd523[_0x1fbf86]={..._0x4bd523[_0x1fbf86],'children':_0x499cbf};});}return cMinId=_0x4bd523['length']>0x0?_0x4bd523[_0x4bd523[_0x59e9ed(0x1f6)]-0x1]['id']:0x0,_0x300e5d[_0x59e9ed(0x1ca)]({'status':!![],'message':_0x59e9ed(0x1ed),'data':_0x4bd523,'pager':{'last_id':cMinId,'limit':_0x20f4f9,'total':_0x477b87},'hadMore':cMinId>_minId});})['catch'](_0x2fbb3b=>respondError(_0x300e5d,_0x2fbb3b));},exports[_0x18181c(0x1cb)]=async(_0x4e9c2d,_0x15b7d3)=>{const _0x3a7b2d=_0x18181c;let {limit:_0xbedd3e,page:_0xe2a71d,target_id:_0x4bc5e1,type:_0x3f163f}=_0x4e9c2d[_0x3a7b2d(0x1d4)];_0xbedd3e=Number(_0xbedd3e),_0xe2a71d=Number(_0xe2a71d);let _0x45545d,_0x392ebe;return Promise['all']([Comment[_0x3a7b2d(0x1cb)]({'limit':_0xbedd3e,'page':_0xe2a71d,'target_id':_0x4bc5e1,'type':_0x3f163f}),Comment[_0x3a7b2d(0x1bb)]({'target_id':_0x4bc5e1,'type':_0x3f163f})])[_0x3a7b2d(0x1d1)](([_0x165415,_0x2f0944])=>{const _0x4a3d8e=_0x3a7b2d;_0x45545d=_0x165415,_0x392ebe=_0x2f0944;const _0xbd49bd=_0x165415['filter'](_0x1f90ca=>_0x1f90ca['type']===_0x4a3d8e(0x1d7))[_0x4a3d8e(0x1c5)](_0x519b3=>_0x519b3[_0x4a3d8e(0x1da)]),_0x1e737b=_0x165415[_0x4a3d8e(0x1d5)](_0x5563e6=>_0x5563e6[_0x4a3d8e(0x1e2)]===_0x4a3d8e(0x1d6))['map'](_0x479927=>_0x479927[_0x4a3d8e(0x1da)]),_0x147bc2=_0x165415['map'](_0x2ec55a=>_0x2ec55a[_0x4a3d8e(0x1b8)]);return Promise[_0x4a3d8e(0x1c2)]([Post[_0x4a3d8e(0x1f3)](_0xbd49bd),Comment[_0x4a3d8e(0x1f3)](_0x1e737b),User['getByIds'](_0x147bc2)]);})[_0x3a7b2d(0x1d1)](([_0x3f709d,_0x207301,_0x229a23])=>{const _0x2bcc36=_0x3a7b2d;let _0x31f706={},_0xc906b6={},_0x256f22={};return _0x3f709d[_0x2bcc36(0x1c4)](_0xaffc6a=>{const _0x3769a7=_0x2bcc36;_0x31f706[_0xaffc6a['id'][_0x3769a7(0x1e7)]()]=_0xaffc6a;}),_0x207301['forEach'](_0x5882e3=>{const _0x22b935=_0x2bcc36;_0xc906b6[_0x5882e3['id'][_0x22b935(0x1e7)]()]=_0x5882e3;}),_0x229a23['forEach'](_0x90b0e9=>{const _0x295eb1=_0x2bcc36;_0x256f22[_0x90b0e9['id'][_0x295eb1(0x1e7)]()]=_0x90b0e9;}),_0x45545d=_0x45545d[_0x2bcc36(0x1c5)](_0x19eaee=>{const _0x18e937=_0x2bcc36,_0x47239a=_0x256f22[_0x19eaee[_0x18e937(0x1b8)][_0x18e937(0x1e7)]()],_0x59f5fb=_0x19eaee[_0x18e937(0x1e2)]===_0x18e937(0x1d6)?Comment[_0x18e937(0x1de)](_0xc906b6[_0x19eaee[_0x18e937(0x1da)][_0x18e937(0x1e7)]()]):Post[_0x18e937(0x1de)](_0x31f706[_0x19eaee[_0x18e937(0x1da)]['toString']()]);return{...Comment[_0x18e937(0x1de)](_0x19eaee),'user':User[_0x18e937(0x1de)](_0x47239a),'target':_0x59f5fb};}),{'status':!![],'message':_0x2bcc36(0x1ed),'data':_0x45545d,'pager':{'limit':_0xbedd3e,'page':_0xe2a71d,'total':_0x392ebe},'hasMore':_0xbedd3e*_0xe2a71d+_0x45545d[_0x2bcc36(0x1f6)]<_0x392ebe};});},exports[_0x18181c(0x1c6)]=async(_0x331931,_0x37cb1b)=>{const _0x4339bb=_0x18181c,{uid:_0x591d1d,role:_0x17a695}=getTokenInfo(_0x331931),{id:_0x73a30c}=_0x331931[_0x4339bb(0x1c1)];return Comment[_0x4339bb(0x1c0)](_0x73a30c)[_0x4339bb(0x1d1)](_0x431283=>{const _0x28c4e0=_0x4339bb;let _0x4252b4={};const _0x25fa68=_0x17a695==='ADMIN'?['id',_0x28c4e0(0x1da),_0x28c4e0(0x1e2)]:['id',_0x28c4e0(0x1b8),_0x28c4e0(0x1da),_0x28c4e0(0x1e2)];return Object[_0x28c4e0(0x1f2)](_0x331931[_0x28c4e0(0x1bf)])[_0x28c4e0(0x1c4)](_0x1f71cc=>{const _0x37f22e=_0x28c4e0;if(_0x25fa68[_0x37f22e(0x1e1)](_0x1f71cc)){}else{if(_0x1f71cc==='isGuest')_0x431283[_0x37f22e(0x1f1)]=bool2Int(_0x331931[_0x37f22e(0x1bf)][_0x37f22e(0x1f1)]);else _0x431283[_0x1f71cc]!==undefined&&(_0x431283[_0x1f71cc]=_0x331931[_0x37f22e(0x1bf)][_0x1f71cc]);}}),Comment[_0x28c4e0(0x1bc)](_0x431283);})[_0x4339bb(0x1d1)](_0x30731e=>_0x37cb1b[_0x4339bb(0x1ca)]({'status':!![],'message':_0x4339bb(0x1ed),'data':Comment[_0x4339bb(0x1de)](_0x30731e)}))[_0x4339bb(0x1ee)](_0x122142=>respondError(_0x37cb1b,_0x122142));},exports[_0x18181c(0x1f5)]=async(_0x164b07,_0x511068)=>{const _0x29ad65=_0x18181c,{uid:_0xd58e40}=getTokenInfo(_0x164b07),{id:_0x58367a}=_0x164b07[_0x29ad65(0x1c1)],_0x478cab=await Comment[_0x29ad65(0x1c0)](_0x58367a),_0x384859=_0x478cab[_0x29ad65(0x1e2)]==='COMMENT'?Comment:Post;return Comment[_0x29ad65(0x1f5)](_0x58367a)[_0x29ad65(0x1d1)](_0x19c3ce=>{const _0x2ce2a7=_0x29ad65;return Promise[_0x2ce2a7(0x1c2)]([Comment[_0x2ce2a7(0x1f0)]({'type':_0x478cab[_0x2ce2a7(0x1e2)],'target_id':_0x478cab[_0x2ce2a7(0x1da)]}),_0x384859[_0x2ce2a7(0x1c0)](_0x478cab[_0x2ce2a7(0x1da)]),CommentLike['delete']({'comment_id':_0x58367a})]);})['then'](([_0x29e9c9,_0x136bc4,_0x43b9fd])=>{const _0x27994e=_0x29ad65;return _0x384859[_0x27994e(0x1bc)]({..._0x136bc4,'comment_num':_0x29e9c9});})[_0x29ad65(0x1d1)](()=>{const _0x114212=_0x29ad65;return _0x511068[_0x114212(0x1ca)]({'status':!![],'message':_0x114212(0x1b9)});})[_0x29ad65(0x1ee)](_0x557bf4=>respondError(_0x511068,_0x557bf4));},exports[_0x18181c(0x1d8)]=(_0x76a1bd,_0x1fff74)=>{const _0x45d18f=_0x18181c;Post[_0x45d18f(0x1d8)]()[_0x45d18f(0x1d1)](_0x518df8=>_0x1fff74[_0x45d18f(0x1ca)]({'status':!![],'message':_0x45d18f(0x1ed),'data':_0x518df8}))[_0x45d18f(0x1ee)](_0x268ffc=>_0x1fff74[_0x45d18f(0x1e3)](0x1f4)[_0x45d18f(0x1ca)]({'status':![],'message':_0x268ffc[_0x45d18f(0x1dc)]||_0x45d18f(0x1c8)}));},exports[_0x18181c(0x1dd)]=(_0x537a0f,_0x14609a)=>{const _0x455e66=_0x18181c,{uid:_0x457a19}=getTokenInfo(_0x537a0f),{id:_0x56f672}=_0x537a0f['params'],{type:_0xf68a42}=_0x537a0f[_0x455e66(0x1bf)];return CommentLike[_0x455e66(0x1e9)]({'user_id':_0x457a19,'comment_id':_0x56f672,'type':_0xf68a42})['then'](_0x7ffa11=>{return _0x7ffa11?dislikeComment({'user_id':_0x457a19,'comment_id':_0x56f672,'type':_0xf68a42}):likeComment({'user_id':_0x457a19,'comment_id':_0x56f672,'type':_0xf68a42});})['then'](_0x5f275e=>_0x14609a[_0x455e66(0x1ca)]({'status':!!_0x5f275e,'message':_0x5f275e?_0x455e66(0x1ed):_0x455e66(0x1ef)}))['catch'](_0x563c74=>respondError(_0x14609a,_0x563c74));},exports[_0x18181c(0x1be)]=(_0x3c20ad,_0x4ea40e)=>{const _0x35cc68=_0x18181c,{uid:_0x2b7435}=getTokenInfo(_0x3c20ad),{id:_0x355f8f}=_0x3c20ad['params'],{type:_0x10e8c1}=_0x3c20ad[_0x35cc68(0x1bf)];return CommentLike[_0x35cc68(0x1e9)]({'user_id':_0x2b7435,'comment_id':_0x355f8f,'type':_0x10e8c1})['then'](_0x487821=>{const _0x474a98=_0x35cc68;if(_0x487821)throw Object[_0x474a98(0x1e4)](new Error(_0x474a98(0x1db)),{'code':0x190});else return likeComment({'user_id':_0x2b7435,'comment_id':_0x355f8f,'type':_0x10e8c1});})[_0x35cc68(0x1d1)](_0x458818=>_0x4ea40e[_0x35cc68(0x1ca)]({'status':!!_0x458818,'message':_0x458818?_0x35cc68(0x1d9):_0x35cc68(0x1cf)}))[_0x35cc68(0x1ee)](_0x29f840=>respondError(_0x4ea40e,_0x29f840));},exports['dislikeComment']=(_0x1b3772,_0x1bd453)=>{const _0x3b2daf=_0x18181c,{uid:_0xf821e9}=getTokenInfo(_0x1b3772),{id:_0x5d3575}=_0x1b3772[_0x3b2daf(0x1c1)],{type:_0x393d4c}=_0x1b3772[_0x3b2daf(0x1bf)];return CommentLike[_0x3b2daf(0x1e9)]({'user_id':_0xf821e9,'comment_id':_0x5d3575,'type':_0x393d4c})[_0x3b2daf(0x1d1)](_0x2984fa=>{const _0x3a2c1e=_0x3b2daf;if(_0x2984fa)return dislikeComment({'user_id':_0xf821e9,'comment_id':_0x5d3575,'type':_0x393d4c});else throw Object[_0x3a2c1e(0x1e4)](new Error('You\x20disliked\x20it\x20already!'),{'code':0x190});})['then'](_0xdf5bbb=>_0x1bd453[_0x3b2daf(0x1ca)]({'status':!!_0xdf5bbb,'message':_0xdf5bbb?_0x3b2daf(0x1d0):_0x3b2daf(0x1ba)}))['catch'](_0x55ee79=>respondError(_0x1bd453,_0x55ee79));};const dislikeComment=({user_id:_0x51ede7,comment_id:_0x3697a0,type:_0xd32446})=>{const _0x343630=_0x18181c;return Promise[_0x343630(0x1c2)]([Comment[_0x343630(0x1c0)](_0x3697a0),CommentLike[_0x343630(0x1e9)]({'user_id':_0x51ede7,'comment_id':_0x3697a0,'type':_0xd32446})])[_0x343630(0x1d1)](([_0x2addd7,_0x4d57a4])=>{const _0x310848=_0x343630,_0x23f4be=_0x310848(0x1f7)+_0xd32446+_0x310848(0x1cd);return _0x2addd7[_0x23f4be]=_0x2addd7[_0x23f4be]?_0x2addd7[_0x23f4be]-0x1:0x0,_0x2addd7[_0x310848(0x1e5)]=getTotalLikes(_0x2addd7),Promise['all']([CommentLike['deleteById'](_0x4d57a4['id']),Comment[_0x310848(0x1bc)](_0x2addd7)]);})[_0x343630(0x1d1)](([_0x4c90fa,_0x5b23a])=>{return _0x4c90fa&&_0x5b23a;})[_0x343630(0x1ee)](_0x4c67dc=>![]);},likeComment=({user_id:_0x16a899,comment_id:_0x36356b,type:_0x471fd9})=>{const _0x537918=_0x18181c;return Promise[_0x537918(0x1c2)]([Comment['getById'](_0x36356b),CommentLike['userLikedComment']({'user_id':_0x16a899,'comment_id':_0x36356b,'type':_0x471fd9})])['then'](([_0x5ed769,_0x576212])=>{const _0x3cb0b4=_0x537918;if(_0x576212){throw Object[_0x3cb0b4(0x1e4)](new Error(_0x3cb0b4(0x1df)),{'code':0x190});return;}const _0x3314df=_0x3cb0b4(0x1f7)+_0x471fd9+_0x3cb0b4(0x1cd);_0x5ed769[_0x3314df]=_0x5ed769[_0x3314df]+0x1,_0x5ed769[_0x3cb0b4(0x1e5)]=getTotalLikes(_0x5ed769);const _0x57d160=generateCommentLikeData({'user_id':_0x16a899,'comment_id':_0x36356b,'type':_0x471fd9});return Promise[_0x3cb0b4(0x1c2)]([CommentLike[_0x3cb0b4(0x1ea)](_0x57d160),Comment[_0x3cb0b4(0x1bc)](_0x5ed769)]);})[_0x537918(0x1d1)](([_0x21defd,_0x144e3b])=>{return _0x21defd&&_0x144e3b;})[_0x537918(0x1ee)](_0x1951ea=>{const _0x4ef1ae=_0x537918;return console[_0x4ef1ae(0x1c3)]('[Like\x20Comment]',_0x1951ea['message']),![];});};
